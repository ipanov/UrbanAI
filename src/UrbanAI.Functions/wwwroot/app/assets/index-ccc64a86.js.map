{"version":3,"file":"index-ccc64a86.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/components/UrbanAILogo.tsx","../../src/components/atoms/Card/Card.tsx","../../src/components/atoms/Typography/Typography.tsx","../../src/components/LandingPage.tsx","../../src/components/CookieConsentBanner.tsx","../../src/components/LegalAgreementModal.tsx","../../src/constants/index.ts","../../src/config/api.ts","../../src/components/OAuthLoginPage.tsx","../../src/components/WelcomeTutorial.tsx","../../src/contexts/UserContext.tsx","../../src/components/Layout.tsx","../../src/components/Dashboard.tsx","../../src/components/Issues.tsx","../../src/components/OAuthCallback.tsx","../../src/components/GDPRDataManagement.tsx","../../src/components/PrivacyPolicyPage.tsx","../../src/components/TermsOfServicePage.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React from 'react';\r\nimport { LOGO_PRIMARY, LOGO_BLACK, LOGO_WHITE, LOGO_SIZES, LogoProps } from '../assets/brand';\r\nimport './UrbanAILogo.css';\r\n\r\n/**\r\n * UrbanAI Logo Component\r\n * \r\n * Displays the official UrbanAI logo with proper brand compliance.\r\n * Features the City Skyline Integration design with circuit board patterns.\r\n */\r\nconst UrbanAILogo: React.FC<LogoProps> = ({\r\n  variant = 'primary',\r\n  size = 'LARGE',\r\n  className = '',\r\n  alt = 'UrbanAI - Municipal Issue Reporting Platform'\r\n}) => {\r\n  // Determine logo source based on variant\r\n  const getLogoSrc = (): string => {\r\n    switch (variant) {\r\n      case 'black':\r\n        return LOGO_BLACK;\r\n      case 'white':\r\n        return LOGO_WHITE;\r\n      case 'icon':\r\n        // Fallback to primary for icon variant until icon-only assets are created\r\n        return LOGO_PRIMARY;\r\n      case 'primary':\r\n      default:\r\n        return LOGO_PRIMARY;\r\n    }\r\n  };\r\n\r\n  // Handle size - can be a preset or custom number\r\n  const getLogoSize = (): number => {\r\n    if (typeof size === 'number') {\r\n      return size;\r\n    }\r\n    return LOGO_SIZES[size] || LOGO_SIZES.LARGE;\r\n  };\r\n\r\n  const logoSize = getLogoSize();\r\n  const logoSrc = getLogoSrc();\r\n\r\n  return (\r\n    <div className={`urbanai-logo ${className}`}>\r\n      <img\r\n        src={logoSrc}\r\n        alt={alt}\r\n        width={logoSize * 4} // Assuming 4:1 aspect ratio for horizontal logo\r\n        height={logoSize}\r\n        className={`urbanai-logo__image urbanai-logo__image--${variant}`}\r\n        loading=\"lazy\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Logo Text Component\r\n * For cases where only the \"UrbanAI\" text is needed without the skyline graphic\r\n */\r\nexport const UrbanAILogoText: React.FC<{\r\n  variant?: 'primary' | 'black' | 'white';\r\n  size?: 'small' | 'medium' | 'large' | number;\r\n  className?: string;\r\n}> = ({\r\n  variant = 'primary',\r\n  size = 'medium',\r\n  className = ''\r\n}) => {\r\n  const getTextSize = (): string => {\r\n    if (typeof size === 'number') {\r\n      return `${size}px`;\r\n    }\r\n    switch (size) {\r\n      case 'small': return '16px';\r\n      case 'large': return '32px';\r\n      case 'medium':\r\n      default: return '24px';\r\n    }\r\n  };\r\n\r\n  const getTextColor = (): string => {\r\n    switch (variant) {\r\n      case 'black': return '#000000';\r\n      case 'white': return '#FFFFFF';\r\n      case 'primary':\r\n      default: return '#2563EB';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`urbanai-logo-text ${className}`}\r\n      style={{\r\n        fontSize: getTextSize(),\r\n        color: getTextColor(),\r\n        fontWeight: 700,\r\n        fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n      }}\r\n    >\r\n      <span className=\"urbanai-logo-text__urban\">Urban</span>\r\n      <span className=\"urbanai-logo-text__ai\">AI</span>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Placeholder Logo Component\r\n * Used during development when actual logo images aren't available\r\n */\r\nexport const UrbanAILogoPlaceholder: React.FC<{\r\n  variant?: 'primary' | 'black' | 'white';\r\n  size?: number;\r\n  className?: string;\r\n}> = ({\r\n  variant = 'primary',\r\n  size = 128,\r\n  className = ''\r\n}) => {\r\n  const getBackgroundColor = (): string => {\r\n    switch (variant) {\r\n      case 'black': return '#000000';\r\n      case 'white': return '#FFFFFF';\r\n      case 'primary':\r\n      default: return '#2563EB';\r\n    }\r\n  };\r\n\r\n  const getTextColor = (): string => {\r\n    return variant === 'white' ? '#000000' : '#FFFFFF';\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`urbanai-logo-placeholder ${className}`}\r\n      style={{\r\n        width: size * 4,\r\n        height: size,\r\n        backgroundColor: getBackgroundColor(),\r\n        color: getTextColor(),\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        borderRadius: '8px',\r\n        fontFamily: 'Inter, sans-serif',\r\n        fontWeight: 700,\r\n        fontSize: `${size * 0.2}px`,\r\n        border: variant === 'white' ? '1px solid #e5e7eb' : 'none'\r\n      }}\r\n    >\r\n      <span>Urban</span>\r\n      <span style={{ fontWeight: 900 }}>AI</span>\r\n      {/* Simple skyline representation */}\r\n      <div style={{\r\n        marginLeft: '8px',\r\n        display: 'flex',\r\n        alignItems: 'flex-end',\r\n        gap: '2px'\r\n      }}>\r\n        <div style={{ width: '3px', height: '8px', backgroundColor: 'currentColor', opacity: 0.7 }} />\r\n        <div style={{ width: '3px', height: '12px', backgroundColor: 'currentColor', opacity: 0.7 }} />\r\n        <div style={{ width: '3px', height: '6px', backgroundColor: 'currentColor', opacity: 0.7 }} />\r\n        <div style={{ width: '3px', height: '10px', backgroundColor: 'currentColor', opacity: 0.7 }} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UrbanAILogo;","import React from 'react';\r\nimport './Card.css';\r\n\r\nexport interface CardProps {\r\n  children: React.ReactNode;\r\n  variant?: 'default' | 'bordered' | 'elevated';\r\n  padding?: 'none' | 'sm' | 'md' | 'lg';\r\n  className?: string;\r\n  onClick?: () => void;\r\n  hoverable?: boolean;\r\n}\r\n\r\nconst Card: React.FC<CardProps> = ({\r\n  children,\r\n  variant = 'default',\r\n  padding = 'md',\r\n  className = '',\r\n  onClick,\r\n  hoverable = false\r\n}) => {\r\n  const cardClasses = [\r\n    'card',\r\n    `card--${variant}`,\r\n    `card--padding-${padding}`,\r\n    hoverable && 'card--hoverable',\r\n    onClick && 'card--clickable',\r\n    className\r\n  ].filter(Boolean).join(' ');\r\n\r\n  return (\r\n    <div className={cardClasses} onClick={onClick}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;","import React from 'react';\r\nimport './Typography.css';\r\n\r\nexport interface TypographyProps {\r\n  children: React.ReactNode;\r\n  variant?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6' | 'body1' | 'body2' | 'caption' | 'overline';\r\n  color?: 'primary' | 'secondary' | 'success' | 'warning' | 'error' | 'muted';\r\n  align?: 'left' | 'center' | 'right';\r\n  weight?: 'light' | 'normal' | 'medium' | 'semibold' | 'bold';\r\n  className?: string;\r\n  as?: React.ElementType;\r\n  role?: string;\r\n}\r\n\r\nconst Typography: React.FC<TypographyProps> = ({\r\n  children,\r\n  variant = 'body1',\r\n  color = 'primary',\r\n  align = 'left',\r\n  weight,\r\n  className = '',\r\n  as,\r\n  role\r\n}) => {\r\n  const getDefaultElement = (variant: string): React.ElementType => {\r\n    const elementMap: Record<string, React.ElementType> = {\r\n      h1: 'h1',\r\n      h2: 'h2',\r\n      h3: 'h3',\r\n      h4: 'h4',\r\n      h5: 'h5',\r\n      h6: 'h6',\r\n      body1: 'p',\r\n      body2: 'p',\r\n      caption: 'span',\r\n      overline: 'span'\r\n    };\r\n    return elementMap[variant] || 'p';\r\n  };\r\n\r\n  const Component = as || getDefaultElement(variant);\r\n\r\n  const typographyClasses = [\r\n    'typography',\r\n    `typography--${variant}`,\r\n    `typography--color-${color}`,\r\n    `typography--align-${align}`,\r\n    weight && `typography--weight-${weight}`,\r\n    className\r\n  ].filter(Boolean).join(' ');\r\n\r\n  return (\r\n    <Component className={typographyClasses} role={role}>\r\n      {children}\r\n    </Component>\r\n  );\r\n};\r\n\r\nexport default Typography;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { UrbanAILogoPlaceholder } from './UrbanAILogo';\r\nimport { Card, Typography } from './atoms';\r\nimport { Users, TrendingUp, Building, ArrowRight, Shield, Zap, Globe, CheckCircle } from 'lucide-react';\r\nimport './LandingPage.css';\r\n\r\n/**\r\n * Landing Page Component\r\n * \r\n * Main public landing page showcasing UrbanAI's value proposition\r\n * and directing users to appropriate experiences based on their role\r\n */\r\nconst LandingPage: React.FC = () => {\r\n  const userTypes = [\r\n    {\r\n      id: 'citizen',\r\n      title: 'Citizen',\r\n      description: 'Report issues in your community and track their resolution',\r\n      icon: Users,\r\n      color: '#667eea',\r\n      features: [\r\n        'Quick issue reporting with photos',\r\n        'Real-time status updates',\r\n        'Community engagement tools',\r\n        'Anonymous reporting options'\r\n      ],\r\n      cta: 'Start Reporting Issues'\r\n    },\r\n    {\r\n      id: 'investor',\r\n      title: 'Investor',\r\n      description: 'Monitor project compliance and urban development progress',\r\n      icon: TrendingUp,\r\n      color: '#10b981',\r\n      features: [\r\n        'Project compliance monitoring',\r\n        'Investment risk assessment',\r\n        'Progress tracking dashboards',\r\n        'Regulatory compliance reports'\r\n      ],\r\n      cta: 'Monitor Investments'\r\n    },\r\n    {\r\n      id: 'authority',\r\n      title: 'Municipal Authority',\r\n      description: 'Review, prioritize, and resolve urban issues efficiently',\r\n      icon: Building,\r\n      color: '#f59e0b',\r\n      features: [\r\n        'Issue triage and prioritization',\r\n        'AI-powered categorization',\r\n        'Resource allocation tools',\r\n        'Performance analytics'\r\n      ],\r\n      cta: 'Manage Issues'\r\n    }\r\n  ];\r\n\r\n  const platformFeatures = [\r\n    {\r\n      icon: Shield,\r\n      title: 'Privacy-First Design',\r\n      description: 'Your personal data stays with trusted OAuth providers. We only store anonymous identifiers.'\r\n    },\r\n    {\r\n      icon: Zap,\r\n      title: 'AI-Powered Intelligence',\r\n      description: 'Smart categorization, priority assessment, and automated routing of urban issues.'\r\n    },\r\n    {\r\n      icon: Globe,\r\n      title: 'Stakeholder Coordination',\r\n      description: 'Seamless communication between citizens, authorities, and investors.'\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"landing-page\">\r\n      {/* Hero Section */}\r\n      <section className=\"hero-section\">\r\n        <div className=\"hero-container\">\r\n          <header className=\"hero-header\">\r\n            <UrbanAILogoPlaceholder variant=\"primary\" size={48} />\r\n            <div className=\"hero-content\">\r\n              <Typography variant=\"h1\" className=\"hero-title\">\r\n                Welcome to <span className=\"brand-highlight\">UrbanAI</span>\r\n              </Typography>\r\n              <Typography variant=\"h2\" className=\"hero-subtitle\">\r\n                Municipal Issue Reporting with AI-Powered Analysis\r\n              </Typography>\r\n              <Typography variant=\"body1\" className=\"hero-description\">\r\n                Connect citizens, authorities, and investors in a transparent platform \r\n                for reporting, tracking, and resolving urban infrastructure issues.\r\n              </Typography>\r\n            </div>\r\n          </header>\r\n\r\n          <div className=\"cta-buttons\">\r\n            <Link to=\"/login\" className=\"cta-button primary\">\r\n              Get Started\r\n              <ArrowRight size={20} />\r\n            </Link>\r\n            <a href=\"#learn-more\" className=\"cta-button secondary\">\r\n              Learn More\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Platform Features */}\r\n      <section id=\"learn-more\" className=\"features-section\">\r\n        <div className=\"section-container\">\r\n          <Typography variant=\"h2\" align=\"center\" className=\"section-title\">\r\n            Why Choose UrbanAI?\r\n          </Typography>\r\n          \r\n          <div className=\"features-grid\">\r\n            {platformFeatures.map((feature, index) => {\r\n              const Icon = feature.icon;\r\n              return (\r\n                <Card key={index} className=\"feature-card\" variant=\"elevated\" padding=\"lg\">\r\n                  <div className=\"feature-icon\">\r\n                    <Icon size={32} />\r\n                  </div>\r\n                  <Typography variant=\"h3\">{feature.title}</Typography>\r\n                  <Typography variant=\"body1\" color=\"secondary\">\r\n                    {feature.description}\r\n                  </Typography>\r\n                </Card>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* User Types Section */}\r\n      <section className=\"user-types-section\">\r\n        <div className=\"section-container\">\r\n          <Typography variant=\"h2\" align=\"center\" className=\"section-title\">\r\n            Choose Your Experience\r\n          </Typography>\r\n          \r\n          <div className=\"user-types-grid\">\r\n            {userTypes.map((userType) => {\r\n              const Icon = userType.icon;\r\n              return (\r\n                <Card \r\n                  key={userType.id} \r\n                  className=\"user-type-card\" \r\n                  variant=\"elevated\" \r\n                  padding=\"lg\"\r\n                >\r\n                  <div className=\"user-type-header\">\r\n                    <div \r\n                      className=\"user-type-icon\" \r\n                      style={{ backgroundColor: userType.color }}\r\n                    >\r\n                      <Icon size={32} color=\"white\" />\r\n                    </div>\r\n                    <div>\r\n                      <Typography variant=\"h3\">{userType.title}</Typography>\r\n                      <Typography variant=\"body1\" color=\"secondary\">\r\n                        {userType.description}\r\n                      </Typography>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"user-type-features\">\r\n                    {userType.features.map((feature, index) => (\r\n                      <div key={index} className=\"feature-item\">\r\n                        <CheckCircle size={16} />\r\n                        <Typography variant=\"body2\">{feature}</Typography>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                  \r\n                  <Link \r\n                    to={`/${userType.id}`} \r\n                    className=\"user-type-cta\"\r\n                    style={{ backgroundColor: userType.color }}\r\n                  >\r\n                    {userType.cta}\r\n                    <ArrowRight size={18} />\r\n                  </Link>\r\n                </Card>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* How It Works */}\r\n      <section className=\"how-it-works-section\">\r\n        <div className=\"section-container\">\r\n          <Typography variant=\"h2\" align=\"center\" className=\"section-title\">\r\n            How It Works\r\n          </Typography>\r\n          \r\n          <div className=\"steps-grid\">\r\n            <div className=\"step\">\r\n              <div className=\"step-number\">1</div>\r\n              <Typography variant=\"h4\">Report or Monitor</Typography>\r\n              <Typography variant=\"body1\" color=\"secondary\">\r\n                Citizens report issues, investors monitor projects, authorities review cases\r\n              </Typography>\r\n            </div>\r\n            \r\n            <div className=\"step\">\r\n              <div className=\"step-number\">2</div>\r\n              <Typography variant=\"h4\">AI Analysis</Typography>\r\n              <Typography variant=\"body1\" color=\"secondary\">\r\n                Our AI categorizes, prioritizes, and routes issues to the right authorities\r\n              </Typography>\r\n            </div>\r\n            \r\n            <div className=\"step\">\r\n              <div className=\"step-number\">3</div>\r\n              <Typography variant=\"h4\">Collaborative Resolution</Typography>\r\n              <Typography variant=\"body1\" color=\"secondary\">\r\n                Stakeholders work together to resolve issues with full transparency\r\n              </Typography>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"landing-footer\">\r\n        <div className=\"footer-container\">\r\n          <div className=\"footer-main\">\r\n            <div className=\"footer-brand\">\r\n              <UrbanAILogoPlaceholder variant=\"primary\" size={32} />\r\n              <Typography variant=\"h3\">UrbanAI</Typography>\r\n              <Typography variant=\"body2\" color=\"secondary\">\r\n                Transforming urban governance through AI-powered collaboration\r\n              </Typography>\r\n            </div>\r\n            \r\n            <div className=\"footer-links\">\r\n              <div className=\"link-group\">\r\n                <Typography variant=\"h4\">Product</Typography>\r\n                <Link to=\"/citizen\">For Citizens</Link>\r\n                <Link to=\"/investor\">For Investors</Link>\r\n                <Link to=\"/authority\">For Authorities</Link>\r\n              </div>\r\n              \r\n              <div className=\"link-group\">\r\n                <Typography variant=\"h4\">Legal</Typography>\r\n                <Link to=\"/privacy\">Privacy Policy</Link>\r\n                <Link to=\"/terms\">Terms of Service</Link>\r\n              </div>\r\n              \r\n              <div className=\"link-group\">\r\n                <Typography variant=\"h4\">Support</Typography>\r\n                <a href=\"mailto:support@urbanai.site\">Contact Support</a>\r\n                <Link to=\"/login\">Sign In</Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"footer-bottom\">\r\n            <Typography variant=\"body2\" color=\"secondary\">\r\n              © 2024 UrbanAI. All rights reserved.\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"secondary\">\r\n              Built with privacy and transparency in mind.\r\n            </Typography>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LandingPage;","import React, { useState, useEffect } from 'react';\r\nimport { X, Shield, Settings, Check } from 'lucide-react';\r\nimport './CookieConsentBanner.css';\r\n\r\ninterface ConsentPreferences {\r\n  essential: boolean;\r\n  analytics: boolean;\r\n  functional: boolean;\r\n  marketing: boolean;\r\n  timestamp: number;\r\n  version: string;\r\n}\r\n\r\ninterface CookieConsentBannerProps {\r\n  onConsentChange?: (_preferences: ConsentPreferences) => void;\r\n}\r\n\r\nconst CookieConsentBanner: React.FC<CookieConsentBannerProps> = ({ onConsentChange }) => {\r\n  const [showBanner, setShowBanner] = useState(false);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [preferences, setPreferences] = useState<ConsentPreferences>({\r\n    essential: true,\r\n    analytics: false,\r\n    functional: false,\r\n    marketing: false,\r\n    timestamp: Date.now(),\r\n    version: '1.0'\r\n  });\r\n\r\n  useEffect(() => {\r\n    const existingConsent = localStorage.getItem('urbanai_cookie_consent');\r\n    if (!existingConsent) {\r\n      setShowBanner(true);\r\n    } else {\r\n      try {\r\n        const consent = JSON.parse(existingConsent);\r\n        const consentAge = Date.now() - consent.timestamp;\r\n        const maxAge = 365 * 24 * 60 * 60 * 1000; // 1 year\r\n        \r\n        if (consentAge > maxAge) {\r\n          setShowBanner(true);\r\n        } else {\r\n          setPreferences(consent);\r\n          onConsentChange?.(consent);\r\n        }\r\n      } catch {\r\n        setShowBanner(true);\r\n      }\r\n    }\r\n  }, [onConsentChange]);\r\n\r\n  const saveConsent = (newPreferences: ConsentPreferences) => {\r\n    localStorage.setItem('urbanai_cookie_consent', JSON.stringify(newPreferences));\r\n    \r\n    // Set consent cookie (essential)\r\n    document.cookie = `urbanai_consent=${JSON.stringify({\r\n      timestamp: newPreferences.timestamp,\r\n      version: newPreferences.version\r\n    })}; path=/; secure; samesite=strict; max-age=${365 * 24 * 60 * 60}`;\r\n    \r\n    setPreferences(newPreferences);\r\n    onConsentChange?.(newPreferences);\r\n  };\r\n\r\n  const acceptAll = () => {\r\n    const newPreferences: ConsentPreferences = {\r\n      essential: true,\r\n      analytics: true,\r\n      functional: true,\r\n      marketing: true,\r\n      timestamp: Date.now(),\r\n      version: '1.0'\r\n    };\r\n    \r\n    saveConsent(newPreferences);\r\n    setShowBanner(false);\r\n  };\r\n\r\n  const rejectAll = () => {\r\n    const newPreferences: ConsentPreferences = {\r\n      essential: true,\r\n      analytics: false,\r\n      functional: false,\r\n      marketing: false,\r\n      timestamp: Date.now(),\r\n      version: '1.0'\r\n    };\r\n    \r\n    saveConsent(newPreferences);\r\n    setShowBanner(false);\r\n  };\r\n\r\n  const saveCustomPreferences = () => {\r\n    const newPreferences: ConsentPreferences = {\r\n      ...preferences,\r\n      timestamp: Date.now(),\r\n      version: '1.0'\r\n    };\r\n    \r\n    saveConsent(newPreferences);\r\n    setShowSettings(false);\r\n    setShowBanner(false);\r\n  };\r\n\r\n  const updateCategory = (category: keyof ConsentPreferences, value: boolean) => {\r\n    setPreferences(prev => ({\r\n      ...prev,\r\n      [category]: value\r\n    }));\r\n  };\r\n\r\n  if (!showBanner) return null;\r\n\r\n  return (\r\n    <>\r\n      {/* Cookie Consent Banner */}\r\n      <div className=\"cookie-consent-banner\" role=\"dialog\" aria-labelledby=\"cookie-banner-title\">\r\n        <div className=\"cookie-consent-content\">\r\n          <div className=\"cookie-consent-text\">\r\n            <div className=\"cookie-banner-header\">\r\n              <Shield className=\"privacy-icon\" size={20} />\r\n              <h2 id=\"cookie-banner-title\">Your Privacy Matters</h2>\r\n            </div>\r\n            <p>\r\n              We use cookies to provide essential functionality and, with your consent, \r\n              to analyze usage and improve our service. Your personal data stays with your \r\n              OAuth provider and is never stored on our servers.\r\n            </p>\r\n            <a \r\n              href=\"/privacy/cookies\" \r\n              target=\"_blank\" \r\n              rel=\"noopener noreferrer\"\r\n              className=\"privacy-link\"\r\n            >\r\n              Learn more about our privacy-first approach\r\n            </a>\r\n          </div>\r\n          \r\n          <div className=\"cookie-consent-actions\">\r\n            <button \r\n              className=\"btn btn-outline\"\r\n              onClick={() => setShowSettings(true)}\r\n              aria-label=\"Customize cookie settings\"\r\n            >\r\n              <Settings size={16} />\r\n              Customize\r\n            </button>\r\n            <button \r\n              className=\"btn btn-secondary\"\r\n              onClick={rejectAll}\r\n            >\r\n              Reject All\r\n            </button>\r\n            <button \r\n              className=\"btn btn-primary\"\r\n              onClick={acceptAll}\r\n            >\r\n              <Check size={16} />\r\n              Accept All\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Cookie Settings Modal */}\r\n      {showSettings && (\r\n        <div className=\"cookie-settings-modal\">\r\n          <div className=\"modal-backdrop\" onClick={() => setShowSettings(false)} />\r\n          <div className=\"modal-content\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"cookie-settings-title\">\r\n            <header className=\"modal-header\">\r\n              <h2 id=\"cookie-settings-title\">Cookie Preferences</h2>\r\n              <button \r\n                className=\"modal-close\"\r\n                onClick={() => setShowSettings(false)}\r\n                aria-label=\"Close cookie settings\"\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </header>\r\n            \r\n            <div className=\"modal-body\">\r\n              {/* Essential Cookies */}\r\n              <div className=\"cookie-category\">\r\n                <div className=\"category-header\">\r\n                  <h3>Essential Cookies</h3>\r\n                  <span className=\"category-status required\">Always Active</span>\r\n                </div>\r\n                <p>These cookies are necessary for the website to function and cannot be disabled.</p>\r\n                <details>\r\n                  <summary>View cookie details</summary>\r\n                  <ul className=\"cookie-details\">\r\n                    <li><strong>urbanai_session</strong>: Authentication and security (24 hours)</li>\r\n                    <li><strong>urbanai_csrf</strong>: CSRF protection (Session)</li>\r\n                    <li><strong>urbanai_lang</strong>: Language preference (1 year)</li>\r\n                  </ul>\r\n                </details>\r\n              </div>\r\n\r\n              {/* Analytics Cookies */}\r\n              <div className=\"cookie-category\">\r\n                <div className=\"category-header\">\r\n                  <h3>Analytics Cookies</h3>\r\n                  <label className=\"toggle-switch\">\r\n                    <input \r\n                      type=\"checkbox\" \r\n                      checked={preferences.analytics}\r\n                      onChange={(e) => updateCategory('analytics', e.target.checked)}\r\n                    />\r\n                    <span className=\"slider\" />\r\n                  </label>\r\n                </div>\r\n                <p>Help us understand how visitors interact with our website by collecting anonymous information.</p>\r\n                <details>\r\n                  <summary>View cookie details</summary>\r\n                  <ul className=\"cookie-details\">\r\n                    <li><strong>Google Analytics</strong>: Anonymous usage statistics (2 years)</li>\r\n                    <li><strong>urbanai_analytics</strong>: Internal analytics (1 year)</li>\r\n                  </ul>\r\n                </details>\r\n              </div>\r\n\r\n              {/* Functional Cookies */}\r\n              <div className=\"cookie-category\">\r\n                <div className=\"category-header\">\r\n                  <h3>Functional Cookies</h3>\r\n                  <label className=\"toggle-switch\">\r\n                    <input \r\n                      type=\"checkbox\" \r\n                      checked={preferences.functional}\r\n                      onChange={(e) => updateCategory('functional', e.target.checked)}\r\n                    />\r\n                    <span className=\"slider\" />\r\n                  </label>\r\n                </div>\r\n                <p>Enable enhanced functionality like personalized content and improved user experience.</p>\r\n                <details>\r\n                  <summary>View cookie details</summary>\r\n                  <ul className=\"cookie-details\">\r\n                    <li><strong>urbanai_map_prefs</strong>: Map display preferences (6 months)</li>\r\n                    <li><strong>urbanai_dashboard</strong>: Dashboard layout customization (1 year)</li>\r\n                  </ul>\r\n                </details>\r\n              </div>\r\n\r\n              {/* Marketing Cookies */}\r\n              <div className=\"cookie-category\">\r\n                <div className=\"category-header\">\r\n                  <h3>Marketing Cookies</h3>\r\n                  <label className=\"toggle-switch\">\r\n                    <input \r\n                      type=\"checkbox\" \r\n                      checked={preferences.marketing}\r\n                      onChange={(e) => updateCategory('marketing', e.target.checked)}\r\n                    />\r\n                    <span className=\"slider\" />\r\n                  </label>\r\n                </div>\r\n                <p>Used to deliver relevant content and track engagement with our communications.</p>\r\n                <details>\r\n                  <summary>View cookie details</summary>\r\n                  <ul className=\"cookie-details\">\r\n                    <li><strong>Email tracking</strong>: Newsletter engagement (1 year)</li>\r\n                    <li><strong>Social media</strong>: Social sharing features (3 months)</li>\r\n                  </ul>\r\n                </details>\r\n              </div>\r\n            </div>\r\n            \r\n            <footer className=\"modal-footer\">\r\n              <button \r\n                className=\"btn btn-outline\"\r\n                onClick={() => setShowSettings(false)}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                className=\"btn btn-primary\"\r\n                onClick={saveCustomPreferences}\r\n              >\r\n                Save Preferences\r\n              </button>\r\n            </footer>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CookieConsentBanner;","import React from 'react';\r\n\r\ninterface LegalAgreementModalProps {\r\n  open?: boolean;\r\n  isOpen?: boolean;\r\n  provider: 'microsoft' | 'google' | 'facebook' | null;\r\n  displayName?: string | null;\r\n  onAccept: () => void;\r\n  onDecline: () => void;\r\n}\r\n\r\n/**\r\n * LegalAgreementModal\r\n *\r\n * Minimal, accessible modal that asks user to accept the legal terms before registration.\r\n * This modal is intentionally presentation-focused — styling kept inline to avoid needing new css files.\r\n *\r\n * Important privacy note (displayed): We DO NOT store PII. Accepting creates an anonymous GUID\r\n * linked to your provider-sub only and nothing else is persisted.\r\n */\r\nconst backdropStyle: React.CSSProperties = {\r\n  position: 'fixed',\r\n  inset: 0,\r\n  background: 'rgba(2,6,23,0.6)',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  zIndex: 2000,\r\n  padding: 20,\r\n};\r\n\r\nconst panelStyle: React.CSSProperties = {\r\n  width: '100%',\r\n  maxWidth: 720,\r\n  background: '#fff',\r\n  borderRadius: 12,\r\n  boxShadow: '0 10px 40px rgba(2,6,23,0.4)',\r\n  padding: 24,\r\n  color: '#0f172a',\r\n  lineHeight: 1.5,\r\n};\r\n\r\nconst headerStyle: React.CSSProperties = {\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  gap: 12,\r\n  marginBottom: 12,\r\n};\r\n\r\nconst titleStyle: React.CSSProperties = {\r\n  fontSize: 20,\r\n  fontWeight: 700,\r\n  margin: 0,\r\n};\r\n\r\nconst bodyStyle: React.CSSProperties = {\r\n  marginTop: 12,\r\n  marginBottom: 16,\r\n  fontSize: 14,\r\n  color: '#334155',\r\n};\r\n\r\nconst footerStyle: React.CSSProperties = {\r\n  display: 'flex',\r\n  gap: 12,\r\n  justifyContent: 'flex-end',\r\n  marginTop: 16,\r\n};\r\n\r\nconst primaryButtonStyle: React.CSSProperties = {\r\n  background: 'linear-gradient(135deg,#2563EB 0%,#1E40AF 100%)',\r\n  color: '#fff',\r\n  border: 'none',\r\n  padding: '10px 16px',\r\n  borderRadius: 8,\r\n  cursor: 'pointer',\r\n  fontWeight: 600,\r\n};\r\n\r\nconst secondaryButtonStyle: React.CSSProperties = {\r\n  background: '#fff',\r\n  color: '#0f172a',\r\n  border: '1px solid rgba(226,232,240,1)',\r\n  padding: '10px 14px',\r\n  borderRadius: 8,\r\n  cursor: 'pointer',\r\n};\r\n\r\nexport default function LegalAgreementModal(props: LegalAgreementModalProps) {\r\n  const { open, isOpen, provider, displayName, onAccept, onDecline } = props;\r\n\r\n  // Accept either prop for compatibility with tests and callers.\r\n  const visible = typeof open === 'boolean' ? open : !!isOpen;\r\n\r\n  if (!visible) return null;\r\n\r\n  const providerLabel = provider ? provider.charAt(0).toUpperCase() + provider.slice(1) : 'OAuth Provider';\r\n\r\n  return (\r\n    <div role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"legal-modal-title\" style={backdropStyle} data-testid=\"legal-modal\">\r\n      <div style={panelStyle}>\r\n        <div style={headerStyle}>\r\n          <div style={{ width: 44, height: 44, borderRadius: 8, background: '#eef2ff', display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: 700, color: '#2563EB' }}>\r\n            {providerLabel.charAt(0)}\r\n          </div>\r\n          <div>\r\n            <h2 id=\"legal-modal-title\" style={titleStyle}>Before creating your account</h2>\r\n            <div style={{ fontSize: 13, color: '#64748b' }}>\r\n              Please review and accept the legal terms to create an anonymous UrbanAI account\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div style={bodyStyle}>\r\n          <p>{`You are signing in with ${providerLabel}. If you proceed with registration we will:`}</p>\r\n          <ul>\r\n            <li>Generate an internal anonymous identifier (GUID) linked only to your <em>provider identifier</em> (no name, email or PII is stored).</li>\r\n            <li>Use that identifier to associate reports created by you with your account so you can manage them.</li>\r\n            <li>Never store or send your name, email, or other personal information to our servers — those values remain with your OAuth provider.</li>\r\n          </ul>\r\n\r\n          <p style={{ marginTop: 8 }}>\r\n            Display name shown in the UI ({displayName ?? 'from your provider'}) is read from your provider token locally by the browser and is <strong>not</strong> stored by UrbanAI.\r\n          </p>\r\n\r\n          <div style={{ marginTop: 12, background: '#f8fafc', padding: 12, borderRadius: 8, border: '1px solid rgba(226,232,240,1)' }}>\r\n            <strong>GDPR & Deletion</strong> — You can view and request deletion of all data linked to your anonymous identifier at any time. Deletion removes all data stored by UrbanAI related to your account.\r\n          </div>\r\n        </div>\r\n\r\n        <div style={footerStyle}>\r\n          <button\r\n            style={secondaryButtonStyle}\r\n            onClick={onDecline}\r\n            aria-label=\"Decline and return\"\r\n            data-testid=\"decline-button\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            style={primaryButtonStyle}\r\n            onClick={onAccept}\r\n            aria-label=\"Accept terms and create account\"\r\n            data-testid=\"accept-button\"\r\n          >\r\n            I accept — Create my anonymous account\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// Design System Constants\r\nexport const COLORS = {\r\n  // Primary Brand Colors\r\n  PRIMARY: {\r\n    50: '#EFF6FF',\r\n    100: '#DBEAFE', \r\n    200: '#BFDBFE',\r\n    300: '#93C5FD',\r\n    400: '#60A5FA',\r\n    500: '#2563EB', // Main brand blue\r\n    600: '#1D4ED8',\r\n    700: '#1E40AF',\r\n    800: '#1E3A8A',\r\n    900: '#1E3A8A'\r\n  },\r\n  \r\n  // Semantic Colors\r\n  SUCCESS: {\r\n    50: '#ECFDF5',\r\n    100: '#D1FAE5',\r\n    500: '#059669',\r\n    600: '#047857',\r\n    700: '#065F46'\r\n  },\r\n  \r\n  WARNING: {\r\n    50: '#FFFBEB',\r\n    100: '#FEF3C7',\r\n    500: '#F59E0B',\r\n    600: '#D97706',\r\n    700: '#B45309'\r\n  },\r\n  \r\n  ERROR: {\r\n    50: '#FEF2F2',\r\n    100: '#FEE2E2',\r\n    500: '#DC2626',\r\n    600: '#B91C1C',\r\n    700: '#991B1B'\r\n  },\r\n  \r\n  // Neutral Colors\r\n  NEUTRAL: {\r\n    50: '#F8FAFC',\r\n    100: '#F1F5F9',\r\n    200: '#E2E8F0',\r\n    300: '#CBD5E1',\r\n    400: '#94A3B8',\r\n    500: '#64748B',\r\n    600: '#475569',\r\n    700: '#334155',\r\n    800: '#1E293B',\r\n    900: '#0F172A'\r\n  },\r\n  \r\n  // Background Colors\r\n  WHITE: '#FFFFFF',\r\n  BLACK: '#000000'\r\n} as const;\r\n\r\nexport const TYPOGRAPHY = {\r\n  FONT_FAMILY: {\r\n    PRIMARY: '\"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n    MONO: '\"SF Mono\", \"Monaco\", \"Inconsolata\", \"Roboto Mono\", monospace'\r\n  },\r\n  \r\n  FONT_SIZES: {\r\n    XS: '0.75rem',    // 12px\r\n    SM: '0.875rem',   // 14px\r\n    BASE: '1rem',     // 16px\r\n    LG: '1.125rem',   // 18px\r\n    XL: '1.25rem',    // 20px\r\n    '2XL': '1.5rem',  // 24px\r\n    '3XL': '1.875rem', // 30px\r\n    '4XL': '2.25rem', // 36px\r\n    '5XL': '3rem',    // 48px\r\n    '6XL': '3.75rem', // 60px\r\n  },\r\n  \r\n  FONT_WEIGHTS: {\r\n    NORMAL: '400',\r\n    MEDIUM: '500',\r\n    SEMIBOLD: '600',\r\n    BOLD: '700'\r\n  },\r\n  \r\n  LINE_HEIGHTS: {\r\n    TIGHT: '1.25',\r\n    NORMAL: '1.5',\r\n    RELAXED: '1.625',\r\n    LOOSE: '2'\r\n  }\r\n} as const;\r\n\r\nexport const SPACING = {\r\n  XS: '0.25rem',    // 4px\r\n  SM: '0.5rem',     // 8px\r\n  MD: '0.75rem',    // 12px\r\n  LG: '1rem',       // 16px\r\n  XL: '1.25rem',    // 20px\r\n  '2XL': '1.5rem',  // 24px\r\n  '3XL': '2rem',    // 32px\r\n  '4XL': '2.5rem',  // 40px\r\n  '5XL': '3rem',    // 48px\r\n  '6XL': '4rem',    // 64px\r\n  '8XL': '6rem',    // 96px\r\n} as const;\r\n\r\nexport const BORDERS = {\r\n  RADIUS: {\r\n    NONE: '0',\r\n    SM: '0.125rem',   // 2px\r\n    MD: '0.25rem',    // 4px\r\n    LG: '0.5rem',     // 8px\r\n    XL: '0.75rem',    // 12px\r\n    '2XL': '1rem',    // 16px\r\n    FULL: '9999px'\r\n  },\r\n  \r\n  WIDTH: {\r\n    NONE: '0',\r\n    THIN: '1px',\r\n    THICK: '2px'\r\n  }\r\n} as const;\r\n\r\nexport const SHADOWS = {\r\n  SM: '0 1px 2px 0 rgba(0, 0, 0, 0.05)',\r\n  MD: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\r\n  LG: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',\r\n  XL: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\r\n  '2XL': '0 25px 50px -12px rgba(0, 0, 0, 0.25)',\r\n  INNER: 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)'\r\n} as const;\r\n\r\nexport const BREAKPOINTS = {\r\n  SM: '480px',\r\n  MD: '768px', \r\n  LG: '1024px',\r\n  XL: '1280px',\r\n  '2XL': '1536px'\r\n} as const;\r\n\r\nexport const Z_INDEX = {\r\n  DROPDOWN: 1000,\r\n  STICKY: 1020,\r\n  FIXED: 1030,\r\n  MODAL_BACKDROP: 1040,\r\n  MODAL: 1050,\r\n  POPOVER: 1060,\r\n  TOOLTIP: 1070,\r\n  TOAST: 1080\r\n} as const;\r\n\r\n// Application-specific constants\r\nexport const AUTH_PROVIDERS = {\r\n  MICROSOFT: 'microsoft',\r\n  GOOGLE: 'google', \r\n  FACEBOOK: 'facebook'\r\n} as const;\r\n\r\nexport const ISSUE_STATUS = {\r\n  OPEN: 'Open',\r\n  IN_PROGRESS: 'In Progress', \r\n  RESOLVED: 'Resolved',\r\n  REJECTED: 'Rejected'\r\n} as const;\r\n\r\nexport const USER_TYPES = {\r\n  CITIZEN: 'citizen',\r\n  INVESTOR: 'investor', \r\n  AUTHORITY: 'authority'\r\n} as const;\r\n\r\nexport const ROUTES = {\r\n  HOME: '/',\r\n  LOGIN: '/login',\r\n  DASHBOARD: '/dashboard',\r\n  ISSUES: '/issues',\r\n  AUTH_CALLBACK: '/auth/callback',\r\n  PRIVACY: '/privacy',\r\n  TERMS: '/terms'\r\n} as const;","// API Configuration - Environment-aware configuration system\r\nimport { AppConfig, ApiConfig } from './types';\r\n\r\n// Validate that required environment variables are present\r\nconst validateEnvVars = () => {\r\n  const requiredVars = ['VITE_API_BASE_URL', 'VITE_OAUTH_REDIRECT_URI'];\r\n  const missingVars: string[] = [];\r\n  \r\n  for (const varName of requiredVars) {\r\n    if (!import.meta.env[varName]) {\r\n      missingVars.push(varName);\r\n    }\r\n  }\r\n  \r\n  if (missingVars.length > 0) {\r\n    console.warn(`Missing environment variables: ${missingVars.join(', ')}`);\r\n    console.warn('Using default values for development.');\r\n  }\r\n};\r\n\r\n// Initialize environment validation\r\nvalidateEnvVars();\r\n\r\n// Environment detection\r\nconst getEnvironment = (): 'development' | 'production' | 'staging' => {\r\n  const env = import.meta.env.MODE;\r\n  if (env === 'production') return 'production';\r\n  if (env === 'staging') return 'staging';\r\n  return 'development';\r\n};\r\n\r\n// API Configuration\r\nexport const API_CONFIG: ApiConfig = {\r\n  baseUrl: import.meta.env.VITE_API_BASE_URL || 'http://localhost:5001',\r\n  oauth: {\r\n    redirectUri: import.meta.env.VITE_OAUTH_REDIRECT_URI || 'http://localhost:3000/auth/callback'\r\n  }\r\n};\r\n\r\n// Complete Application Configuration\r\nexport const APP_CONFIG: AppConfig = {\r\n  api: API_CONFIG,\r\n  environment: getEnvironment(),\r\n  debug: import.meta.env.VITE_DEBUG_MODE === 'true' || import.meta.env.VITEST === true\r\n};\r\n\r\n// Helper functions for building API URLs\r\nexport const buildApiUrl = (endpoint: string): string => {\r\n  // Remove leading slash if present to avoid double slashes\r\n  const cleanEndpoint = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\r\n  return `${API_CONFIG.baseUrl}/api/${cleanEndpoint}`;\r\n};\r\n\r\nexport const buildOAuthUrl = (endpoint: string): string => {\r\n  // Remove leading slash if present to avoid double slashes\r\n  const cleanEndpoint = endpoint.startsWith('/') ? endpoint.substring(1) : endpoint;\r\n  return `${API_CONFIG.baseUrl}/${cleanEndpoint}`;\r\n};\r\n\r\n// Configuration validation\r\nexport const validateConfig = (): boolean => {\r\n  const errors: string[] = [];\r\n  \r\n  if (!API_CONFIG.baseUrl) {\r\n    errors.push('API base URL is not configured');\r\n  }\r\n  \r\n  if (!API_CONFIG.oauth.redirectUri) {\r\n    errors.push('OAuth redirect URI is not configured');\r\n  }\r\n  \r\n  if (errors.length > 0) {\r\n    console.error('Configuration validation errors:', errors);\r\n    return false;\r\n  }\r\n  \r\n  return true;\r\n};\r\n\r\n// Log configuration in development mode\r\nif (APP_CONFIG.environment === 'development') {\r\n  console.log('API Configuration:', {\r\n    baseUrl: API_CONFIG.baseUrl,\r\n    redirectUri: API_CONFIG.oauth.redirectUri,\r\n    environment: APP_CONFIG.environment,\r\n    debug: APP_CONFIG.debug\r\n  });\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Shield, Users, Building, TrendingUp } from 'lucide-react';\r\nimport { UrbanAILogoPlaceholder } from './UrbanAILogo';\r\nimport CookieConsentBanner from './CookieConsentBanner';\r\nimport LegalAgreementModal from './LegalAgreementModal';\r\nimport { Card, Typography } from './atoms';\r\nimport { AUTH_PROVIDERS, USER_TYPES } from '../constants';\r\nimport { buildApiUrl } from '../config/api';\r\nimport './OAuthLoginPage.css';\r\n\r\ninterface OAuthLoginPageProps {\r\n  onOAuthLogin?: (_provider: 'microsoft' | 'google' | 'facebook') => void;\r\n  onGuestAccess?: () => void;\r\n}\r\n\r\n/**\r\n * OAuthLoginPage\r\n *\r\n * Production OAuth flow:\r\n * - Initiates real OAuth authorization with Microsoft, Google, or Facebook\r\n * - Redirects to provider's login page for user authentication\r\n * - Handles callback with authorization code and exchanges for access token\r\n * - Retrieves user profile data from provider's API (stored in browser only)\r\n * - Creates anonymous user record with external ID (no PII sent to server)\r\n */\r\n\r\nconst OAuthLoginPage: React.FC<OAuthLoginPageProps> = ({\r\n  onOAuthLogin: _onOAuthLogin,\r\n  onGuestAccess\r\n}) => {\r\n  const [selectedUserType, setSelectedUserType] = useState<'citizen' | 'investor' | 'authority' | null>(null);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [pendingProvider, setPendingProvider] = useState<'microsoft' | 'google' | 'facebook' | null>(null);\r\n  const [pendingExternalId, setPendingExternalId] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const userTypes = [\r\n    {\r\n      id: USER_TYPES.CITIZEN,\r\n      title: 'Citizen',\r\n      description: 'Report issues in your community',\r\n      icon: Users,\r\n      color: 'var(--color-primary-500)'\r\n    },\r\n    {\r\n      id: USER_TYPES.INVESTOR,\r\n      title: 'Investor',\r\n      description: 'Monitor project compliance',\r\n      icon: TrendingUp,\r\n      color: 'var(--color-success-600)'\r\n    },\r\n    {\r\n      id: USER_TYPES.AUTHORITY,\r\n      title: 'Authority',\r\n      description: 'Review and resolve cases',\r\n      icon: Building,\r\n      color: 'var(--color-warning-600)'\r\n    }\r\n  ];\r\n\r\n  // Called when user clicks provider button - uses real OAuth only\r\n  const handleOAuthClick = async (provider: 'microsoft' | 'google' | 'facebook') => {\r\n    setError(null);\r\n    setLoading(true);\r\n\r\n    // For testing environments, use mock behavior\r\n    // @ts-ignore\r\n    if (import.meta.env && import.meta.env.VITEST === 'true') {\r\n      setPendingProvider(provider);\r\n      setPendingExternalId('test-external-id');\r\n      setModalOpen(true);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      // Get OAuth authorization URL from backend\r\n      const response = await fetch(buildApiUrl(`v1/oauth/authorize/${provider}`), {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include'\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Failed to get authorization URL: ${errorText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      // Store OAuth parameters for callback handling\r\n      sessionStorage.setItem('oauth_state', data.state);\r\n      sessionStorage.setItem('oauth_code_verifier', data.codeVerifier);\r\n      sessionStorage.setItem('oauth_provider', provider);\r\n      \r\n      // Redirect to OAuth provider\r\n      window.location.href = data.authorizationUrl;\r\n      \r\n    } catch (err: any) {\r\n      console.error('OAuth initiation error:', err);\r\n      setError(err?.message ?? 'Failed to start OAuth login');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleModalAccept = () => {\r\n    // For tests only - real OAuth flow doesn't use this path\r\n    if (!pendingProvider || !pendingExternalId) {\r\n      setError('Missing provider/external id');\r\n      setModalOpen(false);\r\n      return;\r\n    }\r\n    // In production, this would never be called since we use real OAuth redirects\r\n    console.error('Mock registration attempted in production - this should not happen');\r\n    setModalOpen(false);\r\n  };\r\n\r\n  const handleModalDecline = () => {\r\n    setModalOpen(false);\r\n    setPendingProvider(null);\r\n    setPendingExternalId(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"oauth-login-page\" data-testid=\"oauth-login-page\">\r\n      <div className=\"login-container\">\r\n        {/* Header with Logo */}\r\n        <header className=\"login-header\">\r\n          <UrbanAILogoPlaceholder variant=\"primary\" size={32} className=\"login-logo\" />\r\n          <div className=\"header-text\">\r\n            <Typography variant=\"h1\" align=\"center\">\r\n              Welcome to <span className=\"brand-highlight\">UrbanAI</span>\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"secondary\" align=\"center\" className=\"tagline\">\r\n              Municipal Issue Reporting with AI-Powered Analysis\r\n            </Typography>\r\n          </div>\r\n        </header>\r\n\r\n        {/* User Type Selection */}\r\n        <section className=\"user-type-section\">\r\n          <Typography variant=\"h2\" align=\"center\" className=\"section-title\">\r\n            I am a...\r\n          </Typography>\r\n          <div className=\"user-type-grid\">\r\n            {userTypes.map((type) => {\r\n              const Icon = type.icon;\r\n              return (\r\n                <Card\r\n                  key={type.id}\r\n                  className={`user-type-card ${selectedUserType === type.id ? 'selected' : ''}`}\r\n                  onClick={() => setSelectedUserType(type.id)}\r\n                  hoverable\r\n                  variant={selectedUserType === type.id ? 'elevated' : 'default'}\r\n                >\r\n                  <Icon\r\n                    size={24}\r\n                    style={{ color: type.color }}\r\n                    className=\"user-type-icon\"\r\n                  />\r\n                  <Typography variant=\"h5\" className=\"user-type-title\">\r\n                    {type.title}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"secondary\">\r\n                    {type.description}\r\n                  </Typography>\r\n                </Card>\r\n              );\r\n            })}\r\n          </div>\r\n        </section>\r\n\r\n        {/* OAuth Login Section */}\r\n        <section className=\"oauth-section\">\r\n          <Typography variant=\"h2\" align=\"center\" className=\"section-title\">\r\n            Choose Your Login Method\r\n          </Typography>\r\n          <div className=\"oauth-buttons\">\r\n            <button \r\n              className=\"oauth-btn oauth-btn--microsoft\"\r\n              onClick={() => handleOAuthClick(AUTH_PROVIDERS.MICROSOFT)}\r\n              disabled={loading}\r\n              aria-label=\"Continue with Microsoft\"\r\n              data-testid=\"microsoft-oauth-button\"\r\n            >\r\n              <div className=\"oauth-icon\">\r\n                <svg width=\"21\" height=\"21\" viewBox=\"0 0 21 21\" fill=\"none\">\r\n                  <rect x=\"1\" y=\"1\" width=\"9\" height=\"9\" fill=\"#f25022\"/>\r\n                  <rect x=\"11\" y=\"1\" width=\"9\" height=\"9\" fill=\"#00a4ef\"/>\r\n                  <rect x=\"1\" y=\"11\" width=\"9\" height=\"9\" fill=\"#ffb900\"/>\r\n                  <rect x=\"11\" y=\"11\" width=\"9\" height=\"9\" fill=\"#7fba00\"/>\r\n                </svg>\r\n              </div>\r\n              Continue with Microsoft\r\n            </button>\r\n\r\n            <button \r\n              className=\"oauth-btn oauth-btn--google\"\r\n              onClick={() => handleOAuthClick(AUTH_PROVIDERS.GOOGLE)}\r\n              disabled={loading}\r\n              aria-label=\"Continue with Google\"\r\n              data-testid=\"google-oauth-button\"\r\n            >\r\n              <div className=\"oauth-icon\">\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                  <path d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" fill=\"#4285F4\"/>\r\n                  <path d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" fill=\"#34A853\"/>\r\n                  <path d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" fill=\"#FBBC05\"/>\r\n                  <path d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" fill=\"#EA4335\"/>\r\n                </svg>\r\n              </div>\r\n              Continue with Google\r\n            </button>\r\n\r\n            <button \r\n              className=\"oauth-btn oauth-btn--facebook\"\r\n              onClick={() => handleOAuthClick('facebook')}\r\n              disabled={loading}\r\n              aria-label=\"Continue with Facebook\"\r\n            >\r\n              <div className=\"oauth-icon\">\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\r\n                </svg>\r\n              </div>\r\n              Continue with Facebook\r\n            </button>\r\n          </div>\r\n\r\n          {error && (\r\n            <Card variant=\"bordered\" className=\"oauth-error\" padding=\"sm\">\r\n              <Typography variant=\"body2\" color=\"error\" role=\"alert\">\r\n                {error}\r\n              </Typography>\r\n            </Card>\r\n          )}\r\n        </section>\r\n\r\n        {/* Privacy Guarantee Section */}\r\n        <Card variant=\"elevated\" className=\"privacy-section\" padding=\"lg\">\r\n          <div className=\"privacy-header\">\r\n            <Shield className=\"privacy-icon\" size={20} />\r\n            <Typography variant=\"h3\" className=\"privacy-title\">\r\n              Maximum Privacy Guarantee\r\n            </Typography>\r\n          </div>\r\n          <div className=\"privacy-content\">\r\n            <Typography variant=\"body1\" className=\"privacy-description\">\r\n              Your personal information never leaves your OAuth provider.\r\n              We only store an anonymous identifier to link your issue reports.\r\n            </Typography>\r\n            <ul className=\"privacy-benefits\">\r\n              <li>\r\n                <Typography variant=\"body2\" color=\"success\">\r\n                  ✓ Zero personal data stored on our servers\r\n                </Typography>\r\n              </li>\r\n              <li>\r\n                <Typography variant=\"body2\" color=\"success\">\r\n                  ✓ Your identity stays with trusted providers\r\n                </Typography>\r\n              </li>\r\n              <li>\r\n                <Typography variant=\"body2\" color=\"success\">\r\n                  ✓ Personalized experience in your browser only\r\n                </Typography>\r\n              </li>\r\n              <li>\r\n                <Typography variant=\"body2\" color=\"success\">\r\n                  ✓ Complete data control and deletion rights\r\n                </Typography>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Footer Section */}\r\n        <footer className=\"login-footer\">\r\n          <div className=\"footer-divider\"></div>\r\n          <div className=\"gdpr-links\">\r\n            By signing in, you agree to our <a href=\"#\" className=\"privacy-links\">Privacy Policy</a> and <a href=\"#\" className=\"privacy-links\">Terms of Service</a>.\r\n          </div>\r\n          <div className=\"guest-section\">\r\n            <a href=\"#\" className=\"guest-link\" onClick={onGuestAccess}>← Back to Home</a>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n\r\n      {/* Cookie Consent Banner */}\r\n      <CookieConsentBanner />\r\n\r\n      {/* Legal modal: shown before creating anonymous account */}\r\n      <LegalAgreementModal\r\n        open={modalOpen}\r\n        isOpen={modalOpen}\r\n        provider={pendingProvider}\r\n        displayName={pendingProvider ? `${pendingProvider} user` : null}\r\n        onAccept={handleModalAccept}\r\n        onDecline={handleModalDecline}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OAuthLoginPage;\r\n","import React, { useState } from 'react';\r\nimport { X, ChevronRight, ChevronLeft, MapPin, FileText, TrendingUp, CheckCircle } from 'lucide-react';\r\n\r\ninterface TutorialStep {\r\n  id: number;\r\n  title: string;\r\n  content: string;\r\n  icon: React.ReactNode;\r\n  highlight?: string;\r\n}\r\n\r\ninterface WelcomeTutorialProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onComplete: () => void;\r\n}\r\n\r\nconst WelcomeTutorial: React.FC<WelcomeTutorialProps> = ({ isOpen, onClose, onComplete }) => {\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n\r\n  const tutorialSteps: TutorialStep[] = [\r\n    {\r\n      id: 1,\r\n      title: \"Welcome to UrbanAI! 👋\",\r\n      content: \"We're excited to have you join our community! UrbanAI helps you report municipal issues and track their resolution with AI-powered analysis. Let's take a quick tour of your new dashboard.\",\r\n      icon: <CheckCircle size={24} />,\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Your Dashboard Overview 📊\",\r\n      content: \"This dashboard shows your issue statistics at a glance. You can see your total reports, issues in progress, resolved issues, and your resolution rate percentage.\",\r\n      icon: <TrendingUp size={24} />,\r\n      highlight: \"stats-section\"\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"Report New Issues 📝\",\r\n      content: \"Click the 'Report New Issue' button to submit municipal problems you've noticed. You can add photos, descriptions, and precise locations to help authorities understand and resolve issues quickly.\",\r\n      icon: <FileText size={24} />,\r\n      highlight: \"get-started-btn\"\r\n    },\r\n    {\r\n      id: 4,\r\n      title: \"Track Recent Activity 📋\",\r\n      content: \"The recent issues section shows your latest reports and their current status. Each issue displays its location, date, and resolution progress.\",\r\n      icon: <MapPin size={24} />,\r\n      highlight: \"recent-issues-section\"\r\n    },\r\n    {\r\n      id: 5,\r\n      title: \"You're All Set! 🎉\",\r\n      content: \"We've created a sample issue for you to explore the interface. Feel free to delete it once you're comfortable. Start by reporting your first real issue to help improve your community!\",\r\n      icon: <CheckCircle size={24} />,\r\n    }\r\n  ];\r\n\r\n  const nextStep = () => {\r\n    if (currentStep < tutorialSteps.length - 1) {\r\n      setCurrentStep(currentStep + 1);\r\n    } else {\r\n      handleComplete();\r\n    }\r\n  };\r\n\r\n  const prevStep = () => {\r\n    if (currentStep > 0) {\r\n      setCurrentStep(currentStep - 1);\r\n    }\r\n  };\r\n\r\n  const handleComplete = () => {\r\n    onComplete();\r\n    onClose();\r\n  };\r\n\r\n  const skipTutorial = () => {\r\n    onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const currentStepData = tutorialSteps[currentStep];\r\n\r\n  return (\r\n    <>\r\n      <div className=\"tutorial-overlay\" onClick={skipTutorial} />\r\n      <div className=\"tutorial-modal\">\r\n        <div className=\"tutorial-header\">\r\n          <div className=\"tutorial-progress\">\r\n            <span>Step {currentStep + 1} of {tutorialSteps.length}</span>\r\n            <div className=\"progress-bar\">\r\n              <div \r\n                className=\"progress-fill\" \r\n                style={{ width: `${((currentStep + 1) / tutorialSteps.length) * 100}%` }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <button className=\"tutorial-close\" onClick={skipTutorial}>\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"tutorial-content\">\r\n          <div className=\"tutorial-icon\">\r\n            {currentStepData.icon}\r\n          </div>\r\n          <h3>{currentStepData.title}</h3>\r\n          <p>{currentStepData.content}</p>\r\n        </div>\r\n\r\n        <div className=\"tutorial-footer\">\r\n          <button \r\n            className=\"tutorial-btn secondary\" \r\n            onClick={skipTutorial}\r\n          >\r\n            Skip Tour\r\n          </button>\r\n          <div className=\"tutorial-navigation\">\r\n            {currentStep > 0 && (\r\n              <button \r\n                className=\"tutorial-btn secondary\" \r\n                onClick={prevStep}\r\n              >\r\n                <ChevronLeft size={16} />\r\n                Back\r\n              </button>\r\n            )}\r\n            <button \r\n              className=\"tutorial-btn primary\" \r\n              onClick={nextStep}\r\n            >\r\n              {currentStep === tutorialSteps.length - 1 ? \"Get Started!\" : \"Next\"}\r\n              {currentStep < tutorialSteps.length - 1 && <ChevronRight size={16} />}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WelcomeTutorial;","import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\n\r\ninterface UserProfile {\r\n  firstName: string;\r\n  lastName: string;\r\n  displayName: string;\r\n  email: string;\r\n  provider: 'microsoft' | 'google' | 'facebook' | null;\r\n  initials: string;\r\n}\r\n\r\ninterface UserContextType {\r\n  userProfile: UserProfile | null;\r\n  setUserProfile: (_profile: UserProfile | null) => void;\r\n  isAuthenticated: boolean;\r\n  logout: () => void;\r\n}\r\n\r\nconst UserContext = createContext<UserContextType | undefined>(undefined);\r\n\r\ninterface UserProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const UserProvider: React.FC<UserProviderProps> = ({ children }) => {\r\n  const [userProfile, setUserProfileState] = useState<UserProfile | null>(null);\r\n\r\n  // Load user profile from localStorage on mount (browser-only storage)\r\n  useEffect(() => {\r\n    const storedProfile = localStorage.getItem('urbanai_user_profile');\r\n    const token = localStorage.getItem('urbanai_token');\r\n    \r\n    if (storedProfile && token) {\r\n      try {\r\n        const profile = JSON.parse(storedProfile);\r\n        setUserProfileState(profile);\r\n      } catch (error) {\r\n        console.warn('Failed to parse stored user profile:', error);\r\n        localStorage.removeItem('urbanai_user_profile');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Helper to generate initials from display name\r\n  const generateInitials = (name: string): string => {\r\n    return name\r\n      .split(' ')\r\n      .map(word => word.charAt(0))\r\n      .join('')\r\n      .toUpperCase()\r\n      .slice(0, 2);\r\n  };\r\n\r\n  const setUserProfile = (profile: UserProfile | null) => {\r\n    if (profile) {\r\n      // Ensure initials are generated\r\n      const profileWithInitials = {\r\n        ...profile,\r\n        initials: profile.initials || generateInitials(profile.displayName)\r\n      };\r\n      \r\n      // Store in localStorage (browser-only, never sent to server)\r\n      localStorage.setItem('urbanai_user_profile', JSON.stringify(profileWithInitials));\r\n      setUserProfileState(profileWithInitials);\r\n    } else {\r\n      localStorage.removeItem('urbanai_user_profile');\r\n      setUserProfileState(null);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    // Clear all user data from browser storage\r\n    localStorage.removeItem('urbanai_token');\r\n    localStorage.removeItem('urbanai_user_profile');\r\n    localStorage.removeItem('urbanai_tutorial_completed');\r\n    localStorage.removeItem('urbanai_welcome_issue_seen');\r\n    localStorage.removeItem('urbanai_welcome_issue_dismissed');\r\n    \r\n    setUserProfileState(null);\r\n    window.location.href = '/';\r\n  };\r\n\r\n  const isAuthenticated = !!localStorage.getItem('urbanai_token');\r\n\r\n  const value: UserContextType = {\r\n    userProfile,\r\n    setUserProfile,\r\n    isAuthenticated,\r\n    logout\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider value={value}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\n// eslint-disable-next-line react-refresh/only-export-components\r\nexport const useUser = (): UserContextType => {\r\n  const context = useContext(UserContext);\r\n  if (context === undefined) {\r\n    throw new Error('useUser must be used within a UserProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// Helper to extract user info from OAuth provider responses (client-side only)\r\n// eslint-disable-next-line react-refresh/only-export-components\r\nexport const extractUserInfoFromProvider = (\r\n  provider: 'microsoft' | 'google' | 'facebook',\r\n  providerUserData?: any\r\n): Partial<UserProfile> => {\r\n  \r\n  if (!providerUserData) {\r\n    throw new Error(`No user data provided for ${provider} OAuth response`);\r\n  }\r\n\r\n  // Real OAuth provider data extraction\r\n  let firstName = '';\r\n  let lastName = '';\r\n  let displayName = '';\r\n  let email = '';\r\n\r\n  switch (provider) {\r\n    case 'microsoft':\r\n      // Microsoft Graph API user object structure\r\n      firstName = providerUserData.FirstName || providerUserData.givenName || '';\r\n      lastName = providerUserData.LastName || providerUserData.surname || '';\r\n      displayName = providerUserData.Name || providerUserData.displayName || `${firstName} ${lastName}`.trim();\r\n      email = providerUserData.Email || providerUserData.mail || providerUserData.userPrincipalName || '';\r\n      break;\r\n    \r\n    case 'google':\r\n      // Google OAuth user info structure\r\n      firstName = providerUserData.FirstName || providerUserData.given_name || '';\r\n      lastName = providerUserData.LastName || providerUserData.family_name || '';\r\n      displayName = providerUserData.Name || providerUserData.name || `${firstName} ${lastName}`.trim();\r\n      email = providerUserData.Email || providerUserData.email || '';\r\n      break;\r\n    \r\n    case 'facebook':\r\n      // Facebook Graph API user structure\r\n      firstName = providerUserData.FirstName || providerUserData.first_name || '';\r\n      lastName = providerUserData.LastName || providerUserData.last_name || '';\r\n      displayName = providerUserData.Name || providerUserData.name || `${firstName} ${lastName}`.trim();\r\n      email = providerUserData.Email || providerUserData.email || '';\r\n      break;\r\n      \r\n    default:\r\n      throw new Error(`Unsupported OAuth provider: ${provider}`);\r\n  }\r\n\r\n  if (!displayName || displayName.trim() === '') {\r\n    throw new Error(`Invalid user data received from ${provider} - missing display name`);\r\n  }\r\n\r\n  return {\r\n    firstName,\r\n    lastName,\r\n    displayName,\r\n    email,\r\n    provider,\r\n    initials: ''\r\n  };\r\n};","import React from 'react';\r\nimport { Home, FileText, Settings, LogOut } from 'lucide-react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useUser } from '../contexts/UserContext';\r\n\r\ninterface LayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Layout: React.FC<LayoutProps> = ({ children }) => {\r\n  const location = useLocation();\r\n  const { userProfile, logout } = useUser();\r\n\r\n  const isActiveRoute = (path: string) => {\r\n    return location.pathname === path;\r\n  };\r\n\r\n  return (\r\n    <div className=\"layout\">\r\n      <header className=\"dashboard-header\">\r\n        <div className=\"header-content\">\r\n          <h1>UrbanAI</h1>\r\n          <p className=\"header-subtitle\">Municipal issue management platform</p>\r\n        </div>\r\n        <div className=\"header-user-section\">\r\n          {userProfile && (\r\n            <div className=\"user-info\">\r\n              <div className=\"user-avatar\">\r\n                {userProfile.initials}\r\n              </div>\r\n              <div className=\"user-details\">\r\n                <span className=\"user-name\">{userProfile.displayName}</span>\r\n                <span className=\"user-provider\">{userProfile.provider}</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <button \r\n            onClick={logout}\r\n            className=\"logout-btn\"\r\n            aria-label=\"Logout\"\r\n          >\r\n            <LogOut size={20} />\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </header>\r\n      \r\n      <nav className=\"dashboard-nav\">\r\n        <a \r\n          href=\"/dashboard\" \r\n          className={`nav-item ${isActiveRoute('/dashboard') ? 'active' : ''}`}\r\n        >\r\n          <Home size={20} />\r\n          Dashboard\r\n        </a>\r\n        <a \r\n          href=\"/issues\" \r\n          className={`nav-item ${isActiveRoute('/issues') ? 'active' : ''}`}\r\n        >\r\n          <FileText size={20} />\r\n          Issues\r\n        </a>\r\n        <a \r\n          href=\"/settings\" \r\n          className={`nav-item ${isActiveRoute('/settings') ? 'active' : ''}`}\r\n        >\r\n          <Settings size={20} />\r\n          Settings\r\n        </a>\r\n      </nav>\r\n\r\n      <main className=\"page-content\">\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { FileText, MapPin, Clock, CheckCircle, AlertTriangle, Plus, TrendingUp, Sparkles } from 'lucide-react';\r\nimport { buildApiUrl } from '../config/api';\r\nimport WelcomeTutorial from './WelcomeTutorial';\r\nimport Layout from './Layout';\r\nimport { useUser } from '../contexts/UserContext';\r\n\r\ninterface Issue {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  status: string;\r\n  latitude: number;\r\n  longitude: number;\r\n  createdAt: string;\r\n  photoUrl?: string;\r\n}\r\n\r\ninterface DashboardStats {\r\n  totalReports: number;\r\n  inProgress: number;\r\n  resolved: number;\r\n  recentIssues: Issue[];\r\n}\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const { userProfile } = useUser();\r\n  const [stats, setStats] = useState<DashboardStats>({\r\n    totalReports: 0,\r\n    inProgress: 0,\r\n    resolved: 0,\r\n    recentIssues: []\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [showTutorial, setShowTutorial] = useState(false);\r\n  const [isNewUser, setIsNewUser] = useState(false);\r\n\r\n  const fetchDashboardData = useCallback(async () => {\r\n    try {\r\n      const token = localStorage.getItem('urbanai_token');\r\n      let issues: Issue[] = [];\r\n\r\n      if (token) {\r\n        try {\r\n          const response = await fetch(buildApiUrl('issues'), {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n\r\n          if (response.ok) {\r\n            issues = await response.json();\r\n          } else {\r\n            console.log('Issues API call failed:', response.status, response.statusText);\r\n          }\r\n        } catch (apiError) {\r\n          console.log('Issues API call error:', apiError);\r\n          // Continue with empty issues array\r\n        }\r\n      }\r\n\r\n      // Add welcome issue for new users (whether API call succeeded or failed)\r\n      const hasSeenWelcomeIssue = localStorage.getItem('urbanai_welcome_issue_seen');\r\n      const welcomeIssueDismissed = localStorage.getItem('urbanai_welcome_issue_dismissed');\r\n      \r\n      if (!hasSeenWelcomeIssue && !welcomeIssueDismissed) {\r\n        const welcomeIssue = createWelcomeIssue();\r\n        issues = [welcomeIssue, ...issues];\r\n        localStorage.setItem('urbanai_welcome_issue_seen', 'true');\r\n      }\r\n      \r\n      const totalReports = issues.length;\r\n      const inProgress = issues.filter(issue => issue.status === 'In Progress').length;\r\n      const resolved = issues.filter(issue => issue.status === 'Resolved').length;\r\n      const recentIssues = issues\r\n        .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\r\n        .slice(0, 5);\r\n\r\n      setStats({\r\n        totalReports,\r\n        inProgress,\r\n        resolved,\r\n        recentIssues\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to fetch dashboard data:', error);\r\n      \r\n      // Fallback: still show welcome issue even if everything fails\r\n      const hasSeenWelcomeIssue = localStorage.getItem('urbanai_welcome_issue_seen');\r\n      const welcomeIssueDismissed = localStorage.getItem('urbanai_welcome_issue_dismissed');\r\n      \r\n      if (!hasSeenWelcomeIssue && !welcomeIssueDismissed) {\r\n        const welcomeIssue = createWelcomeIssue();\r\n        setStats({\r\n          totalReports: 1,\r\n          inProgress: 1,\r\n          resolved: 0,\r\n          recentIssues: [welcomeIssue]\r\n        });\r\n        localStorage.setItem('urbanai_welcome_issue_seen', 'true');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    checkIfNewUser();\r\n    fetchDashboardData();\r\n  }, [fetchDashboardData]);\r\n\r\n  const checkIfNewUser = () => {\r\n    const hasSeenTutorial = localStorage.getItem('urbanai_tutorial_completed');\r\n    const hasSeenWelcomeIssue = localStorage.getItem('urbanai_welcome_issue_seen');\r\n    \r\n    if (!hasSeenTutorial) {\r\n      setIsNewUser(true);\r\n      setShowTutorial(true);\r\n    }\r\n    \r\n    if (!hasSeenWelcomeIssue) {\r\n      setIsNewUser(true);\r\n    }\r\n  };\r\n\r\n  const createWelcomeIssue = (): Issue => {\r\n    return {\r\n      id: 'welcome-template-issue',\r\n      title: 'Welcome to UrbanAI! 🎉 (Template Issue)',\r\n      description: 'This is a sample issue to help you get familiar with the interface. You can see how issues are displayed, their status, location, and date. Feel free to explore the dashboard and delete this template when you\\'re ready to report real municipal issues!',\r\n      status: 'In Progress',\r\n      latitude: 40.7589, // NYC coordinates as example\r\n      longitude: -73.9851,\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n  };\r\n\r\n  const handleTutorialComplete = () => {\r\n    localStorage.setItem('urbanai_tutorial_completed', 'true');\r\n    setIsNewUser(false);\r\n  };\r\n\r\n  const handleCloseTutorial = () => {\r\n    setShowTutorial(false);\r\n  };\r\n\r\n  const isWelcomeIssue = (issueId: string) => {\r\n    return issueId === 'welcome-template-issue';\r\n  };\r\n\r\n  const dismissWelcomeIssue = () => {\r\n    localStorage.setItem('urbanai_welcome_issue_dismissed', 'true');\r\n    // Re-fetch dashboard data to update the display\r\n    fetchDashboardData();\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'Open':\r\n        return <AlertTriangle size={16} className=\"text-yellow-500\" />;\r\n      case 'In Progress':\r\n        return <Clock size={16} className=\"text-blue-500\" />;\r\n      case 'Resolved':\r\n        return <CheckCircle size={16} className=\"text-green-500\" />;\r\n      default:\r\n        return <AlertTriangle size={16} className=\"text-gray-500\" />;\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"dashboard\" data-testid=\"dashboard-page\">\r\n        <main className=\"dashboard-content\">\r\n        <div className=\"welcome-section\" data-testid=\"welcome-section\">\r\n          <h2>\r\n            {userProfile ? \r\n              `Welcome back, ${userProfile.displayName.split(' ')[0]}! 👋` : \r\n              'Welcome to UrbanAI'\r\n            }\r\n          </h2>\r\n          <p>\r\n            {userProfile ? \r\n              `Ready to report municipal issues? Let's make your community better together.` :\r\n              'Report municipal issues and track their resolution with AI-powered analysis.'\r\n            }\r\n          </p>\r\n          \r\n          <div className=\"quick-actions\">\r\n            <button className=\"action-btn primary\" data-testid=\"get-started-btn\">\r\n              <Plus size={20} />\r\n              Report New Issue\r\n            </button>\r\n            <button className=\"action-btn secondary\">\r\n              <FileText size={20} />\r\n              View My Reports\r\n            </button>\r\n            <button className=\"action-btn secondary\">\r\n              <MapPin size={20} />\r\n              Browse Map\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stats-section\">\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-icon\">\r\n              <FileText size={24} />\r\n            </div>\r\n            <div className=\"stat-content\">\r\n              <h3>{loading ? '...' : stats.totalReports}</h3>\r\n              <p>Total Reports</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-icon\">\r\n              <Clock size={24} />\r\n            </div>\r\n            <div className=\"stat-content\">\r\n              <h3>{loading ? '...' : stats.inProgress}</h3>\r\n              <p>In Progress</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-icon\">\r\n              <CheckCircle size={24} />\r\n            </div>\r\n            <div className=\"stat-content\">\r\n              <h3>{loading ? '...' : stats.resolved}</h3>\r\n              <p>Resolved</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-icon\">\r\n              <TrendingUp size={24} />\r\n            </div>\r\n            <div className=\"stat-content\">\r\n              <h3>{loading ? '...' : Math.round((stats.resolved / (stats.totalReports || 1)) * 100)}%</h3>\r\n              <p>Resolution Rate</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"recent-issues-section\">\r\n          <h3>Recent Issues</h3>\r\n          {loading ? (\r\n            <div className=\"loading-state\">Loading recent issues...</div>\r\n          ) : stats.recentIssues.length > 0 ? (\r\n            <div className=\"issues-list\">\r\n              {stats.recentIssues.map((issue) => (\r\n                <div \r\n                  key={issue.id} \r\n                  className={`issue-card ${isWelcomeIssue(issue.id) ? 'welcome-issue' : ''}`}\r\n                >\r\n                  <div className=\"issue-header\">\r\n                    <h4>\r\n                      {issue.title || 'Untitled Issue'}\r\n                      {isWelcomeIssue(issue.id) && (\r\n                        <span className=\"template-issue-badge\">\r\n                          <Sparkles size={12} />\r\n                          Template\r\n                        </span>\r\n                      )}\r\n                    </h4>\r\n                    <div className=\"issue-status\">\r\n                      {getStatusIcon(issue.status)}\r\n                      <span>{issue.status}</span>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"issue-description\">{issue.description}</p>\r\n                  <div className=\"issue-footer\">\r\n                    <div className=\"issue-location\">\r\n                      <MapPin size={14} />\r\n                      <span>{issue.latitude.toFixed(6)}, {issue.longitude.toFixed(6)}</span>\r\n                    </div>\r\n                    <span className=\"issue-date\">{formatDate(issue.createdAt)}</span>\r\n                  </div>\r\n                  {isWelcomeIssue(issue.id) && (\r\n                    <div className=\"issue-actions\">\r\n                      <button \r\n                        className=\"btn-secondary\"\r\n                        onClick={dismissWelcomeIssue}\r\n                      >\r\n                        Dismiss Template\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"empty-state\">\r\n              <FileText size={48} />\r\n              <h4>No issues reported yet</h4>\r\n              <p>Get started by reporting your first municipal issue.</p>\r\n              <button className=\"action-btn primary\" data-testid=\"first-report-btn\">\r\n                <Plus size={20} />\r\n                Report Your First Issue\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n        </main>\r\n\r\n        <WelcomeTutorial \r\n          isOpen={showTutorial && isNewUser}\r\n          onClose={handleCloseTutorial}\r\n          onComplete={handleTutorialComplete}\r\n        />\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { FileText, MapPin, Clock, CheckCircle, AlertTriangle, Plus, Filter, Search, Sparkles } from 'lucide-react';\r\nimport { buildApiUrl } from '../config/api';\r\nimport Layout from './Layout';\r\n\r\ninterface Issue {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  status: string;\r\n  latitude: number;\r\n  longitude: number;\r\n  createdAt: string;\r\n  photoUrl?: string;\r\n}\r\n\r\nconst Issues: React.FC = () => {\r\n  const [issues, setIssues] = useState<Issue[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filterStatus, setFilterStatus] = useState<string>('all');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const createWelcomeIssue = (): Issue => {\r\n    return {\r\n      id: 'welcome-template-issue',\r\n      title: 'Welcome to UrbanAI! 🎉 (Template Issue)',\r\n      description: 'This is a sample issue to help you get familiar with the interface. You can see how issues are displayed, their status, location, and date. Feel free to explore the dashboard and delete this template when you\\'re ready to report real municipal issues!',\r\n      status: 'In Progress',\r\n      latitude: 40.7589,\r\n      longitude: -73.9851,\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n  };\r\n\r\n  const fetchIssues = useCallback(async () => {\r\n    try {\r\n      const token = localStorage.getItem('urbanai_token');\r\n      let fetchedIssues: Issue[] = [];\r\n\r\n      if (token) {\r\n        try {\r\n          const response = await fetch(buildApiUrl('issues'), {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n\r\n          if (response.ok) {\r\n            fetchedIssues = await response.json();\r\n          } else {\r\n            console.log('Issues API call failed:', response.status, response.statusText);\r\n          }\r\n        } catch (apiError) {\r\n          console.log('Issues API call error:', apiError);\r\n        }\r\n      }\r\n\r\n      // Add welcome issue for new users\r\n      const hasSeenWelcomeIssue = localStorage.getItem('urbanai_welcome_issue_seen');\r\n      const welcomeIssueDismissed = localStorage.getItem('urbanai_welcome_issue_dismissed');\r\n      \r\n      if (!hasSeenWelcomeIssue && !welcomeIssueDismissed) {\r\n        const welcomeIssue = createWelcomeIssue();\r\n        fetchedIssues = [welcomeIssue, ...fetchedIssues];\r\n        localStorage.setItem('urbanai_welcome_issue_seen', 'true');\r\n      }\r\n\r\n      setIssues(fetchedIssues);\r\n    } catch (error) {\r\n      console.error('Failed to fetch issues:', error);\r\n      \r\n      // Fallback: still show welcome issue\r\n      const hasSeenWelcomeIssue = localStorage.getItem('urbanai_welcome_issue_seen');\r\n      const welcomeIssueDismissed = localStorage.getItem('urbanai_welcome_issue_dismissed');\r\n      \r\n      if (!hasSeenWelcomeIssue && !welcomeIssueDismissed) {\r\n        const welcomeIssue = createWelcomeIssue();\r\n        setIssues([welcomeIssue]);\r\n        localStorage.setItem('urbanai_welcome_issue_seen', 'true');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchIssues();\r\n  }, [fetchIssues]);\r\n\r\n  const isWelcomeIssue = (issueId: string) => {\r\n    return issueId === 'welcome-template-issue';\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'Open':\r\n        return <AlertTriangle size={16} className=\"text-yellow-500\" />;\r\n      case 'In Progress':\r\n        return <Clock size={16} className=\"text-blue-500\" />;\r\n      case 'Resolved':\r\n        return <CheckCircle size={16} className=\"text-green-500\" />;\r\n      default:\r\n        return <AlertTriangle size={16} className=\"text-gray-500\" />;\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const filteredIssues = issues.filter(issue => {\r\n    const matchesStatus = filterStatus === 'all' || issue.status.toLowerCase().replace(' ', '-') === filterStatus;\r\n    const matchesSearch = issue.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         issue.description.toLowerCase().includes(searchTerm.toLowerCase());\r\n    return matchesStatus && matchesSearch;\r\n  });\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"issues-page\">\r\n        <header className=\"page-header\">\r\n          <div className=\"header-content\">\r\n            <h1>Issues</h1>\r\n            <p className=\"header-subtitle\">View and manage all reported municipal issues</p>\r\n          </div>\r\n          <button className=\"action-btn primary\">\r\n            <Plus size={20} />\r\n            Report New Issue\r\n          </button>\r\n        </header>\r\n\r\n      <div className=\"issues-controls\">\r\n        <div className=\"search-box\">\r\n          <Search size={20} />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search issues...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"filter-controls\">\r\n          <Filter size={16} />\r\n          <select\r\n            value={filterStatus}\r\n            onChange={(e) => setFilterStatus(e.target.value)}\r\n          >\r\n            <option value=\"all\">All Status</option>\r\n            <option value=\"open\">Open</option>\r\n            <option value=\"in-progress\">In Progress</option>\r\n            <option value=\"resolved\">Resolved</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"issues-grid\">\r\n        {loading ? (\r\n          <div className=\"loading-state\">\r\n            <div className=\"loading-spinner\"></div>\r\n            <p>Loading issues...</p>\r\n          </div>\r\n        ) : filteredIssues.length > 0 ? (\r\n          filteredIssues.map((issue) => (\r\n            <div \r\n              key={issue.id} \r\n              className={`issue-card ${isWelcomeIssue(issue.id) ? 'welcome-issue' : ''}`}\r\n            >\r\n              <div className=\"issue-header\">\r\n                <h3>\r\n                  {issue.title}\r\n                  {isWelcomeIssue(issue.id) && (\r\n                    <span className=\"template-issue-badge\">\r\n                      <Sparkles size={12} />\r\n                      Template\r\n                    </span>\r\n                  )}\r\n                </h3>\r\n                <div className=\"issue-status\">\r\n                  {getStatusIcon(issue.status)}\r\n                  <span>{issue.status}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <p className=\"issue-description\">{issue.description}</p>\r\n              \r\n              <div className=\"issue-meta\">\r\n                <div className=\"issue-location\">\r\n                  <MapPin size={14} />\r\n                  <span>{issue.latitude.toFixed(6)}, {issue.longitude.toFixed(6)}</span>\r\n                </div>\r\n                <span className=\"issue-date\">{formatDate(issue.createdAt)}</span>\r\n              </div>\r\n              \r\n              <div className=\"issue-actions\">\r\n                <button className=\"btn-secondary\">View Details</button>\r\n                {isWelcomeIssue(issue.id) && (\r\n                  <button \r\n                    className=\"btn-secondary\"\r\n                    onClick={() => {\r\n                      // Remove from local state immediately\r\n                      setIssues(issues.filter(i => i.id !== issue.id));\r\n                      // Mark as dismissed so it won't appear again\r\n                      localStorage.setItem('urbanai_welcome_issue_dismissed', 'true');\r\n                    }}\r\n                  >\r\n                    Dismiss Template\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"empty-state\">\r\n            <FileText size={64} />\r\n            <h3>No issues found</h3>\r\n            <p>\r\n              {searchTerm || filterStatus !== 'all' \r\n                ? 'Try adjusting your search or filter criteria.'\r\n                : 'Get started by reporting your first municipal issue.'\r\n              }\r\n            </p>\r\n            <button className=\"action-btn primary\">\r\n              <Plus size={20} />\r\n              Report Your First Issue\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Issues;","import React, { useEffect, useState, useRef, useCallback } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { buildApiUrl } from '../config/api';\r\nimport { useUser } from '../contexts/UserContext';\r\n\r\ninterface OAuthCallbackProps {\r\n  onSuccess?: (_token: string) => void;\r\n  onError?: (_error: string) => void;\r\n}\r\n\r\n/**\r\n * OAuth Callback Component\r\n * Handles the return from OAuth providers and completes the authentication flow\r\n */\r\nconst OAuthCallback: React.FC<OAuthCallbackProps> = ({ onSuccess, onError }) => {\r\n  const { setUserProfile } = useUser();\r\n  const [searchParams] = useSearchParams();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const hasProcessed = useRef(false);\r\n\r\n  const registerUser = useCallback(async (provider: string, externalId: string) => {\r\n    try {\r\n      const response = await fetch(buildApiUrl('auth/register-external'), {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          provider,\r\n          externalId\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(errorText || `Registration failed (${response.status})`);\r\n      }\r\n\r\n      const json = await response.json();\r\n      const token = json?.token ?? json?.Token;\r\n      \r\n      if (!token) {\r\n        throw new Error('No authentication token returned from server');\r\n      }\r\n\r\n      // Store token locally (no PII stored)\r\n      localStorage.setItem('urbanai_token', token);\r\n      \r\n      // Notify parent component\r\n      onSuccess?.(token);\r\n      \r\n      // Redirect to dashboard\r\n      window.location.href = '/dashboard';\r\n      \r\n    } catch (err: any) {\r\n      console.error('User registration error:', err);\r\n      throw err;\r\n    }\r\n  }, [onSuccess]);\r\n\r\n  useEffect(() => {\r\n    // Prevent double execution in React StrictMode\r\n    if (hasProcessed.current) {\r\n      return;\r\n    }\r\n    hasProcessed.current = true;\r\n    const handleOAuthCallback = async () => {\r\n      try {\r\n        // Get OAuth parameters from URL\r\n        const code = searchParams.get('code');\r\n        const state = searchParams.get('state');\r\n        const error = searchParams.get('error');\r\n        const errorDescription = searchParams.get('error_description');\r\n\r\n        // Handle OAuth errors\r\n        if (error) {\r\n          const errorMessage = `OAuth Error: ${error}${errorDescription ? ` - ${errorDescription}` : ''}`;\r\n          setError(errorMessage);\r\n          onError?.(errorMessage);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        // Check required parameters\r\n        if (!code || !state) {\r\n          const errorMessage = 'Missing required OAuth parameters';\r\n          setError(errorMessage);\r\n          onError?.(errorMessage);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        // Get stored OAuth parameters\r\n        const storedState = sessionStorage.getItem('oauth_state');\r\n        const codeVerifier = sessionStorage.getItem('oauth_code_verifier');\r\n        const provider = sessionStorage.getItem('oauth_provider');\r\n\r\n        // Validate state parameter (CSRF protection)\r\n        if (state !== storedState) {\r\n          const errorMessage = 'Invalid state parameter - possible CSRF attack';\r\n          setError(errorMessage);\r\n          onError?.(errorMessage);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        if (!provider || !codeVerifier) {\r\n          const errorMessage = 'Missing stored OAuth parameters';\r\n          setError(errorMessage);\r\n          onError?.(errorMessage);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        // Handle the OAuth callback through our backend\r\n        const callbackUrl = `${buildApiUrl(`v1/oauth/callback/${provider}`)}?code=${encodeURIComponent(code)}&state=${encodeURIComponent(state)}&code_verifier=${encodeURIComponent(codeVerifier)}`;\r\n        \r\n        const response = await fetch(callbackUrl, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Accept': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const errorText = await response.text();\r\n          throw new Error(`OAuth callback failed: ${errorText}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log('[OAuth] Callback response:', data);\r\n        \r\n        // Store user profile locally in browser (never sent to server) \r\n        if (data.userInfo) {\r\n          console.log('[OAuth] Processing userInfo:', data.userInfo);\r\n          \r\n          // Extract user info from the backend response\r\n          const userProfile = {\r\n            firstName: data.userInfo.FirstName || data.userInfo.firstName || '',\r\n            lastName: data.userInfo.LastName || data.userInfo.lastName || '',\r\n            displayName: data.userInfo.Name || data.userInfo.displayName || data.userInfo.name || `${data.userInfo.FirstName || data.userInfo.firstName || ''} ${data.userInfo.LastName || data.userInfo.lastName || ''}`.trim() || 'User',\r\n            email: data.userInfo.Email || data.userInfo.email || data.userInfo.mail || data.userInfo.userPrincipalName || '',\r\n            provider: (data.provider || provider) as 'microsoft' | 'google' | 'facebook',\r\n            initials: ''\r\n          };\r\n          \r\n          // Generate initials\r\n          if (userProfile.firstName && userProfile.lastName) {\r\n            userProfile.initials = `${userProfile.firstName.charAt(0)}${userProfile.lastName.charAt(0)}`.toUpperCase();\r\n          } else if (userProfile.displayName && userProfile.displayName !== 'User') {\r\n            userProfile.initials = userProfile.displayName.split(' ').map((n: string) => n.charAt(0)).join('').toUpperCase().slice(0, 2);\r\n          } else {\r\n            userProfile.initials = 'U';\r\n          }\r\n          \r\n          console.log('[OAuth] Setting user profile:', userProfile);\r\n          setUserProfile(userProfile);\r\n        }\r\n\r\n        // Check if user already exists and has token, or needs registration\r\n        if (data.token) {\r\n          // User already exists, store token and redirect\r\n          localStorage.setItem('urbanai_token', data.token);\r\n          onSuccess?.(data.token);\r\n          window.location.href = '/dashboard';\r\n        } else if (data.requiresRegistration) {\r\n          // New user, register with external ID only (no PII sent to server)\r\n          await registerUser(data.provider, data.externalId);\r\n        } else {\r\n          throw new Error('Invalid OAuth callback response - missing token or registration data');\r\n        }\r\n\r\n      } catch (err: any) {\r\n        console.error('OAuth callback error:', err);\r\n        const errorMessage = err?.message ?? 'OAuth authentication failed';\r\n        setError(errorMessage);\r\n        onError?.(errorMessage);\r\n      } finally {\r\n        setLoading(false);\r\n        // Clean up stored OAuth parameters\r\n        sessionStorage.removeItem('oauth_state');\r\n        sessionStorage.removeItem('oauth_code_verifier');\r\n        sessionStorage.removeItem('oauth_provider');\r\n      }\r\n    };\r\n\r\n    handleOAuthCallback();\r\n  }, [searchParams, onSuccess, onError, registerUser, setUserProfile]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"oauth-callback-loading\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Completing authentication...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"oauth-callback-error\">\r\n        <h2>Authentication Failed</h2>\r\n        <p>{error}</p>\r\n        <button onClick={() => window.location.href = '/login'}>\r\n          Try Again\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"oauth-callback-success\">\r\n      <h2>Authentication Successful</h2>\r\n      <p>Redirecting to dashboard...</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OAuthCallback;\r\n","import React, { useState } from 'react';\r\nimport { Download, Trash2, Shield, Database, FileText } from 'lucide-react';\r\n\r\ninterface UserData {\r\n  id: string;\r\n  username: string;\r\n  role: string;\r\n  createdAt: string;\r\n}\r\n\r\ninterface ExternalLogin {\r\n  provider: string;\r\n  externalId: string;\r\n  createdAt: string;\r\n}\r\n\r\ninterface Issue {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  status: 'Open' | 'In Progress' | 'Municipal Review' | 'Resolved';\r\n  createdAt: string;\r\n  location: {\r\n    lat: number;\r\n    lng: number;\r\n  };\r\n  canEdit: boolean;\r\n}\r\n\r\ninterface ClientSideData {\r\n  displayName: string;\r\n  email: string;\r\n  profilePicture: string;\r\n}\r\n\r\nconst GDPRDataManagement: React.FC = () => {\r\n  const [activeTab, setActiveTab] = useState<string>('overview');\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [showAnonymizeModal, setShowAnonymizeModal] = useState(false);\r\n  const [deleteConfirmation, setDeleteConfirmation] = useState('');\r\n  const [isExporting, setIsExporting] = useState(false);\r\n\r\n  // Mock data - in real app, this would come from API\r\n  const userData: UserData = {\r\n    id: 'usr_3a4b5c6d7e8f9g0h',\r\n    username: 'google_108234567890123456789',\r\n    role: 'User',\r\n    createdAt: '2024-01-15T14:30:22.123Z'\r\n  };\r\n\r\n  const externalLogins: ExternalLogin[] = [\r\n    {\r\n      provider: 'Google',\r\n      externalId: '108234567890123456789',\r\n      createdAt: '2024-01-15T14:30:22.123Z'\r\n    }\r\n  ];\r\n\r\n  const issues: Issue[] = [\r\n    {\r\n      id: 'ISS-2024-001',\r\n      title: 'Pothole on Main Street',\r\n      description: 'Large pothole causing vehicle damage',\r\n      status: 'Municipal Review',\r\n      createdAt: '2024-01-20T10:15:30.000Z',\r\n      location: { lat: 40.7128, lng: -74.0060 },\r\n      canEdit: false\r\n    },\r\n    {\r\n      id: 'ISS-2024-002',\r\n      title: 'Broken streetlight',\r\n      description: 'Streetlight not working for 3 days',\r\n      status: 'In Progress',\r\n      createdAt: '2024-01-18T16:22:45.000Z',\r\n      location: { lat: 40.7589, lng: -73.9851 },\r\n      canEdit: true\r\n    },\r\n    {\r\n      id: 'ISS-2024-003',\r\n      title: 'Graffiti in park',\r\n      description: 'Vandalism on park bench',\r\n      status: 'Open',\r\n      createdAt: '2024-01-22T09:33:12.000Z',\r\n      location: { lat: 40.7831, lng: -73.9712 },\r\n      canEdit: true\r\n    }\r\n  ];\r\n\r\n  const clientSideData: ClientSideData = {\r\n    displayName: 'John Doe',\r\n    email: 'john.doe@gmail.com',\r\n    profilePicture: 'OAuth provider URL'\r\n  };\r\n\r\n  const handleExportData = async () => {\r\n    setIsExporting(true);\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      \r\n      const exportData = {\r\n        user: userData,\r\n        externalLogins,\r\n        issues,\r\n        exportedAt: new Date().toISOString()\r\n      };\r\n\r\n      const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `urbanai-data-export-${new Date().toISOString().split('T')[0]}.json`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n    } finally {\r\n      setIsExporting(false);\r\n    }\r\n  };\r\n\r\n  const handleExportClientData = () => {\r\n    alert('This would export browser-stored data like display name, email, and profile picture.');\r\n  };\r\n\r\n  const handleDeleteAccount = () => {\r\n    if (deleteConfirmation === 'DELETE') {\r\n      alert('Account deletion request submitted. You will receive a confirmation email.');\r\n      setShowDeleteModal(false);\r\n      setDeleteConfirmation('');\r\n    }\r\n  };\r\n\r\n  const handleAnonymizeData = () => {\r\n    alert('Data anonymization request submitted. Your personal connection to issues will be removed.');\r\n    setShowAnonymizeModal(false);\r\n  };\r\n\r\n  const getStatusBadge = (status: Issue['status']) => {\r\n    const statusClasses = {\r\n      'Open': 'bg-yellow-100 text-yellow-800',\r\n      'In Progress': 'bg-blue-100 text-blue-800',\r\n      'Municipal Review': 'bg-purple-100 text-purple-800',\r\n      'Resolved': 'bg-green-100 text-green-800'\r\n    };\r\n\r\n    return (\r\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusClasses[status]}`}>\r\n        {status}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const tabs = [\r\n    { id: 'overview', title: 'Overview', icon: Shield },\r\n    { id: 'my-data', title: 'My Data', icon: Database },\r\n    { id: 'my-issues', title: 'My Issues', icon: FileText },\r\n    { id: 'export', title: 'Export Data', icon: Download },\r\n    { id: 'delete', title: 'Delete Account', icon: Trash2 }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white border-b border-gray-200 shadow-sm\">\r\n        <div className=\"max-w-4xl mx-auto px-6 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"text-blue-600 text-2xl font-bold\">🏙️ UrbanAI</div>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold text-sm\">\r\n                JD\r\n              </div>\r\n              <span className=\"text-gray-600\">Anonymous User</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-4xl mx-auto p-6\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">My Data & Privacy</h1>\r\n          <p className=\"text-gray-600\">Manage your personal data and privacy settings</p>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"border-b border-gray-200 mb-8\">\r\n          <nav className=\"flex space-x-8\">\r\n            {tabs.map(tab => {\r\n              const Icon = tab.icon;\r\n              return (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  className={`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${\r\n                    activeTab === tab.id\r\n                      ? 'border-blue-500 text-blue-600'\r\n                      : 'border-transparent text-gray-500 hover:text-blue-600 hover:border-gray-300'\r\n                  }`}\r\n                >\r\n                  <Icon size={16} />\r\n                  {tab.title}\r\n                </button>\r\n              );\r\n            })}\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        {activeTab === 'overview' && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">Your Privacy Rights</h2>\r\n              <p className=\"text-gray-600 mb-4\">Under GDPR, you have comprehensive rights over your personal data. Here's what you can do:</p>\r\n              \r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex justify-between py-3 border-b border-gray-100\">\r\n                  <span className=\"font-medium\">📋 Access your data</span>\r\n                  <span className=\"text-gray-600\">View all personal information we store</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-3 border-b border-gray-100\">\r\n                  <span className=\"font-medium\">📥 Export your data</span>\r\n                  <span className=\"text-gray-600\">Download a copy in machine-readable format</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-3 border-b border-gray-100\">\r\n                  <span className=\"font-medium\">✏️ Correct your data</span>\r\n                  <span className=\"text-gray-600\">Update or fix incorrect information</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-3\">\r\n                  <span className=\"font-medium\">🗑️ Delete your data</span>\r\n                  <span className=\"text-gray-600\">Request removal of your personal information</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">Data Processing Summary</h2>\r\n              <p className=\"text-gray-600 mb-4\">UrbanAI follows privacy-by-design principles:</p>\r\n              \r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\r\n                <h3 className=\"font-semibold text-blue-800 mb-2\">Zero-PII Architecture</h3>\r\n                <p className=\"text-blue-700 text-sm\">We don't store names, emails, or personal identifiers. Your identity remains with your OAuth provider.</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Account Created</span>\r\n                  <span className=\"text-gray-600 font-mono text-sm\">2024-01-15 14:30:22 UTC</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Authentication Provider</span>\r\n                  <span className=\"text-gray-600\">Google OAuth</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Issues Reported</span>\r\n                  <span className=\"text-gray-600\">{issues.length} issues</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Data Retention</span>\r\n                  <span className=\"text-gray-600\">Until account deletion requested</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'my-data' && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">Account Information</h2>\r\n              <p className=\"text-gray-600 mb-4\">Basic account data stored in our system:</p>\r\n              \r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">User ID</span>\r\n                  <span className=\"text-gray-600 font-mono text-sm\">{userData.id}</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Username</span>\r\n                  <span className=\"text-gray-600 font-mono text-sm\">{userData.username}</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Role</span>\r\n                  <span className=\"text-gray-600\">{userData.role}</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Created At</span>\r\n                  <span className=\"text-gray-600 font-mono text-sm\">{userData.createdAt}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">OAuth Provider Links</h2>\r\n              <p className=\"text-gray-600 mb-4\">External authentication providers linked to your account:</p>\r\n              \r\n              {externalLogins.map((login, index) => (\r\n                <div key={index} className=\"space-y-3\">\r\n                  <div className=\"flex justify-between py-2\">\r\n                    <span className=\"font-medium\">Provider</span>\r\n                    <span className=\"text-gray-600\">{login.provider}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-2\">\r\n                    <span className=\"font-medium\">External ID</span>\r\n                    <span className=\"text-gray-600 font-mono text-sm\">{login.externalId}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-2\">\r\n                    <span className=\"font-medium\">Linked On</span>\r\n                    <span className=\"text-gray-600 font-mono text-sm\">{login.createdAt}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">Client-Side Data</h2>\r\n              <p className=\"text-gray-600 mb-4\">Personal information stored only in your browser:</p>\r\n              \r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\r\n                <h3 className=\"font-semibold text-blue-800 mb-2\">Privacy Protection</h3>\r\n                <p className=\"text-blue-700 text-sm\">This data is never sent to our servers and remains under your control.</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Display Name</span>\r\n                  <span className=\"text-gray-600\">{clientSideData.displayName} (stored locally)</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Email</span>\r\n                  <span className=\"text-gray-600\">{clientSideData.email} (stored locally)</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Profile Picture</span>\r\n                  <span className=\"text-gray-600\">{clientSideData.profilePicture} (stored locally)</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'my-issues' && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">Issues You've Reported</h2>\r\n              <p className=\"text-gray-600 mb-4\">All urban issues you've reported through UrbanAI:</p>\r\n              \r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Issue ID</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Title</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Reported</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {issues.map(issue => (\r\n                      <tr key={issue.id}>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{issue.id}</td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{issue.title}</td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">{getStatusBadge(issue.status)}</td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                          {new Date(issue.createdAt).toLocaleDateString()}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                          {issue.canEdit ? (\r\n                            <button className=\"text-blue-600 hover:text-blue-900\">Edit</button>\r\n                          ) : (\r\n                            <button disabled className=\"text-gray-400 cursor-not-allowed\" title=\"Issue in municipal pipeline - cannot edit\">\r\n                              View Only\r\n                            </button>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4\">\r\n                <h3 className=\"font-semibold text-yellow-800 mb-2\">Data Deletion Policy</h3>\r\n                <p className=\"text-yellow-700 text-sm\">\r\n                  Issues that have entered the municipal review process cannot be fully deleted due to public interest requirements.\r\n                  However, your personal connection to these issues can be anonymized while preserving the municipal data.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'export' && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">Export Your Data</h2>\r\n              <p className=\"text-gray-600 mb-4\">Download a complete copy of your personal data in machine-readable format (JSON).</p>\r\n              \r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\r\n                <h3 className=\"font-semibold text-blue-800 mb-2\">What's Included</h3>\r\n                <p className=\"text-blue-700 text-sm\">\r\n                  Your export will include: account information, OAuth provider links, all issues you've reported,\r\n                  and associated metadata. Client-side data must be exported separately from your browser.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-3 mb-6\">\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Export Format</span>\r\n                  <span className=\"text-gray-600\">JSON (machine-readable)</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Data Scope</span>\r\n                  <span className=\"text-gray-600\">All personal data we store</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">Processing Time</span>\r\n                  <span className=\"text-gray-600\">Immediate download</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex gap-4\">\r\n                <button\r\n                  onClick={handleExportData}\r\n                  disabled={isExporting}\r\n                  className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-400\"\r\n                >\r\n                  {isExporting ? (\r\n                    <>\r\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                      Preparing...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Download size={16} />\r\n                      Download My Data\r\n                    </>\r\n                  )}\r\n                </button>\r\n                <button\r\n                  onClick={handleExportClientData}\r\n                  className=\"flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200 border border-gray-300\"\r\n                >\r\n                  <Download size={16} />\r\n                  Export Client-Side Data\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">Export History</h2>\r\n              <p className=\"text-gray-600 mb-4\">Previous data exports for your records:</p>\r\n              \r\n              <div className=\"flex justify-between py-2\">\r\n                <span className=\"font-medium\">Last Export</span>\r\n                <span className=\"text-gray-600\">Never exported</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'delete' && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">Delete My Account</h2>\r\n              <p className=\"text-gray-600 mb-4\">Permanently remove your account and personal data from UrbanAI.</p>\r\n              \r\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\r\n                <h3 className=\"font-semibold text-red-800 mb-2\">Important: This Action Cannot Be Undone</h3>\r\n                <p className=\"text-red-700 text-sm\">\r\n                  Account deletion will permanently remove your access to UrbanAI and delete your personal data.\r\n                  This process typically completes within 30 days.\r\n                </p>\r\n              </div>\r\n\r\n              <h3 className=\"text-lg font-semibold mb-3\">What happens when you delete your account:</h3>\r\n              \r\n              <div className=\"space-y-3 mb-6\">\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">✅ Immediately Deleted</span>\r\n                  <span className=\"text-gray-600\">Account access, OAuth links, personal identifiers</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">🔒 Anonymized (30 days)</span>\r\n                  <span className=\"text-gray-600\">Issues in municipal pipeline (public interest exception)</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">🗑️ Fully Deleted (30 days)</span>\r\n                  <span className=\"text-gray-600\">Issues not yet in municipal review</span>\r\n                </div>\r\n                <div className=\"flex justify-between py-2\">\r\n                  <span className=\"font-medium\">📱 Your Responsibility</span>\r\n                  <span className=\"text-gray-600\">Clear browser data and OAuth provider permissions</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\r\n                <h3 className=\"font-semibold text-blue-800 mb-2\">Legal Exceptions</h3>\r\n                <p className=\"text-blue-700 text-sm\">\r\n                  Some data may be retained longer if required by law or for legitimate public interests (e.g., ongoing municipal processes, legal obligations, or statistical purposes).\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"flex gap-4\">\r\n                <button\r\n                  onClick={() => setShowDeleteModal(true)}\r\n                  className=\"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\"\r\n                >\r\n                  <Trash2 size={16} />\r\n                  Delete My Account\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowAnonymizeModal(true)}\r\n                  className=\"flex items-center gap-2 bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700\"\r\n                >\r\n                  <Shield size={16} />\r\n                  Anonymize My Data Only\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {showDeleteModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Confirm Account Deletion</h2>\r\n            <p className=\"text-gray-600 mb-4\">Are you absolutely sure you want to delete your UrbanAI account?</p>\r\n            \r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\r\n              <h3 className=\"font-semibold text-red-800 mb-2\">This action cannot be undone</h3>\r\n              <p className=\"text-red-700 text-sm\">\r\n                All your personal data will be permanently deleted. Issues in municipal review will be anonymized to remove your personal connection.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Type <strong>DELETE</strong> to confirm:\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={deleteConfirmation}\r\n                onChange={(e) => setDeleteConfirmation(e.target.value)}\r\n                placeholder=\"Type DELETE here\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 justify-end\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowDeleteModal(false);\r\n                  setDeleteConfirmation('');\r\n                }}\r\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleDeleteAccount}\r\n                disabled={deleteConfirmation !== 'DELETE'}\r\n                className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-red-400 disabled:cursor-not-allowed\"\r\n              >\r\n                Delete Account\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Anonymize Confirmation Modal */}\r\n      {showAnonymizeModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Anonymize My Data</h2>\r\n            <p className=\"text-gray-600 mb-4\">This will remove your personal connection to all issues while keeping the issue data for municipal purposes.</p>\r\n            \r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\r\n              <h3 className=\"font-semibold text-blue-800 mb-2\">What happens:</h3>\r\n              <p className=\"text-blue-700 text-sm\">\r\n                Your account will be deleted, but issues you reported will remain in the system without any personal identifiers linking them to you.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 justify-end\">\r\n              <button\r\n                onClick={() => setShowAnonymizeModal(false)}\r\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleAnonymizeData}\r\n                className=\"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700\"\r\n              >\r\n                Anonymize Data\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GDPRDataManagement;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { UrbanAILogoPlaceholder } from './UrbanAILogo';\r\nimport { Card, Typography } from './atoms';\r\nimport { Shield, Eye, Lock, User, Database, AlertTriangle } from 'lucide-react';\r\nimport './LegalPages.css';\r\n\r\n/**\r\n * Privacy Policy Page\r\n * \r\n * Comprehensive privacy policy designed for GDPR compliance and transparency.\r\n * Uses progressive disclosure and plain language as per UX best practices.\r\n */\r\nconst PrivacyPolicyPage: React.FC = () => {\r\n  const lastUpdated = \"December 30, 2024\";\r\n\r\n  return (\r\n    <div className=\"legal-page\">\r\n      <div className=\"legal-container\">\r\n        {/* Header */}\r\n        <header className=\"legal-header\">\r\n          <Link to=\"/\" className=\"logo-link\">\r\n            <UrbanAILogoPlaceholder variant=\"primary\" size={32} />\r\n          </Link>\r\n          <div className=\"header-content\">\r\n            <Typography variant=\"h1\">Privacy Policy</Typography>\r\n            <Typography variant=\"body2\" color=\"secondary\">\r\n              Last updated: {lastUpdated}\r\n            </Typography>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Summary Card */}\r\n        <Card className=\"privacy-summary\" variant=\"elevated\" padding=\"lg\">\r\n          <div className=\"summary-header\">\r\n            <Shield size={24} className=\"summary-icon\" />\r\n            <Typography variant=\"h2\">Privacy at a Glance</Typography>\r\n          </div>\r\n          <div className=\"summary-points\">\r\n            <div className=\"summary-point\">\r\n              <Lock size={16} />\r\n              <Typography variant=\"body1\">\r\n                <strong>Zero Personal Data Storage:</strong> We only store an anonymous identifier linked to your OAuth provider. Your name, email, and personal details never leave your device.\r\n              </Typography>\r\n            </div>\r\n            <div className=\"summary-point\">\r\n              <Eye size={16} />\r\n              <Typography variant=\"body1\">\r\n                <strong>Complete Transparency:</strong> You can see exactly what data we collect (spoiler: it's just an anonymous ID) and delete it anytime.\r\n              </Typography>\r\n            </div>\r\n            <div className=\"summary-point\">\r\n              <User size={16} />\r\n              <Typography variant=\"body1\">\r\n                <strong>Your Identity Stays Private:</strong> We rely on trusted providers like Microsoft and Google to verify you're real, but we never see your personal information.\r\n              </Typography>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Table of Contents */}\r\n        <Card className=\"toc-card\" variant=\"bordered\" padding=\"md\">\r\n          <Typography variant=\"h3\">Contents</Typography>\r\n          <nav className=\"table-of-contents\">\r\n            <a href=\"#what-we-collect\">1. What Information We Collect</a>\r\n            <a href=\"#how-we-use\">2. How We Use Your Information</a>\r\n            <a href=\"#data-storage\">3. Data Storage and Security</a>\r\n            <a href=\"#third-party\">4. Third-Party Services</a>\r\n            <a href=\"#your-rights\">5. Your Privacy Rights</a>\r\n            <a href=\"#cookies\">6. Cookies and Local Storage</a>\r\n            <a href=\"#data-retention\">7. Data Retention</a>\r\n            <a href=\"#international\">8. International Data Transfers</a>\r\n            <a href=\"#children\">9. Children's Privacy</a>\r\n            <a href=\"#changes\">10. Changes to This Policy</a>\r\n            <a href=\"#contact\">11. Contact Us</a>\r\n          </nav>\r\n        </Card>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"legal-content\">\r\n          \r\n          {/* Section 1 */}\r\n          <section id=\"what-we-collect\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">1. What Information We Collect</Typography>\r\n            \r\n            <Card className=\"info-card\" padding=\"md\">\r\n              <Typography variant=\"h4\">Information We DO Collect:</Typography>\r\n              <ul>\r\n                <li><strong>Anonymous OAuth Identifier:</strong> A unique ID from your OAuth provider (Microsoft, Google, Facebook) that doesn't reveal your identity</li>\r\n                <li><strong>Issue Reports:</strong> The urban issues you report, including location, description, and photos you choose to share</li>\r\n                <li><strong>Usage Analytics:</strong> Anonymous usage patterns to improve our service</li>\r\n              </ul>\r\n            </Card>\r\n\r\n            <Card className=\"warning-card\" variant=\"bordered\" padding=\"md\">\r\n              <AlertTriangle size={20} />\r\n              <div>\r\n                <Typography variant=\"h4\">Information We DON'T Collect:</Typography>\r\n                <ul>\r\n                  <li>Your name, email address, or phone number</li>\r\n                  <li>Your physical address or detailed location data</li>\r\n                  <li>Your browsing history or activity on other websites</li>\r\n                  <li>Your OAuth provider's access tokens or credentials</li>\r\n                  <li>Any personally identifiable information (PII)</li>\r\n                </ul>\r\n              </div>\r\n            </Card>\r\n          </section>\r\n\r\n          {/* Section 2 */}\r\n          <section id=\"how-we-use\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">2. How We Use Your Information</Typography>\r\n            <Typography variant=\"body1\">We use your information solely for:</Typography>\r\n            <ul>\r\n              <li><strong>Service Provision:</strong> Enabling you to report and track urban issues</li>\r\n              <li><strong>Authentication:</strong> Verifying you're a legitimate user without storing your personal details</li>\r\n              <li><strong>Issue Management:</strong> Processing and routing your reports to relevant authorities</li>\r\n              <li><strong>Service Improvement:</strong> Analyzing usage patterns to enhance functionality</li>\r\n            </ul>\r\n            \r\n            <Typography variant=\"body1\" className=\"highlight-text\">\r\n              <strong>We never:</strong> Sell your data, share it with advertisers, or use it for marketing purposes unrelated to urban issue reporting.\r\n            </Typography>\r\n          </section>\r\n\r\n          {/* Section 3 */}\r\n          <section id=\"data-storage\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">3. Data Storage and Security</Typography>\r\n            \r\n            <Card className=\"security-card\" padding=\"md\">\r\n              <Database size={20} />\r\n              <div>\r\n                <Typography variant=\"h4\">Our Security Measures:</Typography>\r\n                <ul>\r\n                  <li><strong>Encryption:</strong> All data is encrypted in transit (HTTPS) and at rest</li>\r\n                  <li><strong>Azure Cloud Security:</strong> Hosted on Microsoft Azure with enterprise-grade security</li>\r\n                  <li><strong>Access Controls:</strong> Strict authentication and authorization for system access</li>\r\n                  <li><strong>Regular Security Audits:</strong> Continuous monitoring and security assessments</li>\r\n                  <li><strong>Data Minimization:</strong> We collect only what's absolutely necessary</li>\r\n                </ul>\r\n              </div>\r\n            </Card>\r\n          </section>\r\n\r\n          {/* Section 4 */}\r\n          <section id=\"third-party\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">4. Third-Party Services</Typography>\r\n            \r\n            <div className=\"third-party-services\">\r\n              <Card className=\"service-card\" padding=\"sm\">\r\n                <Typography variant=\"h4\">OAuth Providers</Typography>\r\n                <Typography variant=\"body2\">\r\n                  Microsoft, Google, Facebook - for authentication only. \r\n                  We don't access your data from these providers.\r\n                </Typography>\r\n              </Card>\r\n              \r\n              <Card className=\"service-card\" padding=\"sm\">\r\n                <Typography variant=\"h4\">Microsoft Azure</Typography>\r\n                <Typography variant=\"body2\">\r\n                  Cloud hosting and database services. \r\n                  Subject to Microsoft's privacy policies and GDPR compliance.\r\n                </Typography>\r\n              </Card>\r\n              \r\n              <Card className=\"service-card\" padding=\"sm\">\r\n                <Typography variant=\"h4\">Analytics Services</Typography>\r\n                <Typography variant=\"body2\">\r\n                  Anonymous usage analytics to improve our service. \r\n                  No personal data is shared.\r\n                </Typography>\r\n              </Card>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Section 5 */}\r\n          <section id=\"your-rights\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">5. Your Privacy Rights (GDPR & Beyond)</Typography>\r\n            \r\n            <Typography variant=\"body1\">Under GDPR, CCPA, and other privacy laws, you have the right to:</Typography>\r\n            \r\n            <div className=\"rights-grid\">\r\n              <Card className=\"right-card\" padding=\"sm\">\r\n                <Typography variant=\"h4\">Access</Typography>\r\n                <Typography variant=\"body2\">Request a copy of all data we have about you</Typography>\r\n              </Card>\r\n              \r\n              <Card className=\"right-card\" padding=\"sm\">\r\n                <Typography variant=\"h4\">Rectification</Typography>\r\n                <Typography variant=\"body2\">Correct any inaccurate information</Typography>\r\n              </Card>\r\n              \r\n              <Card className=\"right-card\" padding=\"sm\">\r\n                <Typography variant=\"h4\">Erasure</Typography>\r\n                <Typography variant=\"body2\">Delete your account and all associated data</Typography>\r\n              </Card>\r\n              \r\n              <Card className=\"right-card\" padding=\"sm\">\r\n                <Typography variant=\"h4\">Portability</Typography>\r\n                <Typography variant=\"body2\">Export your data in a machine-readable format</Typography>\r\n              </Card>\r\n              \r\n              <Card className=\"right-card\" padding=\"sm\">\r\n                <Typography variant=\"h4\">Objection</Typography>\r\n                <Typography variant=\"body2\">Object to processing of your data</Typography>\r\n              </Card>\r\n              \r\n              <Card className=\"right-card\" padding=\"sm\">\r\n                <Typography variant=\"h4\">Restriction</Typography>\r\n                <Typography variant=\"body2\">Limit how we process your data</Typography>\r\n              </Card>\r\n            </div>\r\n            \r\n            <Typography variant=\"body1\">\r\n              To exercise these rights, contact us at <a href=\"mailto:privacy@urbanai.site\">privacy@urbanai.site</a>\r\n            </Typography>\r\n          </section>\r\n\r\n          {/* Remaining sections condensed for space */}\r\n          <section id=\"cookies\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">6. Cookies and Local Storage</Typography>\r\n            <Typography variant=\"body1\">\r\n              We use minimal cookies and local storage for:\r\n            </Typography>\r\n            <ul>\r\n              <li>Session management (authentication state)</li>\r\n              <li>User preferences (theme, language)</li>\r\n              <li>OAuth flow security (CSRF protection)</li>\r\n            </ul>\r\n            <Typography variant=\"body1\">\r\n              You can disable cookies in your browser, but some features may not work properly.\r\n            </Typography>\r\n          </section>\r\n\r\n          <section id=\"data-retention\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">7. Data Retention</Typography>\r\n            <Typography variant=\"body1\">\r\n              We retain data only as long as necessary:\r\n            </Typography>\r\n            <ul>\r\n              <li><strong>Anonymous IDs:</strong> Until you delete your account</li>\r\n              <li><strong>Issue Reports:</strong> As required for municipal records (typically 7 years)</li>\r\n              <li><strong>Usage Analytics:</strong> Aggregated and anonymized after 2 years</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section id=\"international\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">8. International Data Transfers</Typography>\r\n            <Typography variant=\"body1\">\r\n              Your data is processed in Microsoft Azure data centers within the European Union and United States, \r\n              with appropriate safeguards under Standard Contractual Clauses and Microsoft's Data Protection Addendum.\r\n            </Typography>\r\n          </section>\r\n\r\n          <section id=\"children\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">9. Children's Privacy</Typography>\r\n            <Typography variant=\"body1\">\r\n              UrbanAI is not intended for children under 16. We do not knowingly collect information from children. \r\n              If you believe a child has provided us with information, please contact us immediately.\r\n            </Typography>\r\n          </section>\r\n\r\n          <section id=\"changes\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">10. Changes to This Policy</Typography>\r\n            <Typography variant=\"body1\">\r\n              We may update this policy occasionally. When we do, we'll:\r\n            </Typography>\r\n            <ul>\r\n              <li>Post the updated policy on this page</li>\r\n              <li>Update the \"Last Modified\" date</li>\r\n              <li>Notify you of material changes via email or in-app notification</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section id=\"contact\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">11. Contact Us</Typography>\r\n            <Typography variant=\"body1\">\r\n              Questions about this privacy policy? Contact us:\r\n            </Typography>\r\n            <div className=\"contact-info\">\r\n              <p><strong>Email:</strong> privacy@urbanai.site</p>\r\n              <p><strong>Data Protection Officer:</strong> dpo@urbanai.site</p>\r\n              <p><strong>Address:</strong> UrbanAI Privacy Team<br />\r\n              [Your business address]</p>\r\n            </div>\r\n          </section>\r\n        </div>\r\n\r\n        {/* Footer Navigation */}\r\n        <footer className=\"legal-footer\">\r\n          <div className=\"footer-links\">\r\n            <Link to=\"/\" className=\"footer-link\">← Back to Home</Link>\r\n            <Link to=\"/terms\" className=\"footer-link\">Terms of Service →</Link>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrivacyPolicyPage;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { UrbanAILogoPlaceholder } from './UrbanAILogo';\r\nimport { Card, Typography } from './atoms';\r\nimport { Scale, AlertTriangle, Shield, Gavel, CheckCircle } from 'lucide-react';\r\nimport './LegalPages.css';\r\n\r\n/**\r\n * Terms of Service Page\r\n * \r\n * Comprehensive terms of service designed for legal protection while maintaining user-friendly language.\r\n * Covers service usage, user responsibilities, and limitation of liability.\r\n */\r\nconst TermsOfServicePage: React.FC = () => {\r\n  const lastUpdated = \"December 30, 2024\";\r\n\r\n  return (\r\n    <div className=\"legal-page\">\r\n      <div className=\"legal-container\">\r\n        {/* Header */}\r\n        <header className=\"legal-header\">\r\n          <Link to=\"/\" className=\"logo-link\">\r\n            <UrbanAILogoPlaceholder variant=\"primary\" size={32} />\r\n          </Link>\r\n          <div className=\"header-content\">\r\n            <Typography variant=\"h1\">Terms of Service</Typography>\r\n            <Typography variant=\"body2\" color=\"secondary\">\r\n              Last updated: {lastUpdated}\r\n            </Typography>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Summary Card */}\r\n        <Card className=\"terms-summary\" variant=\"elevated\" padding=\"lg\">\r\n          <div className=\"summary-header\">\r\n            <Scale size={24} className=\"summary-icon\" />\r\n            <Typography variant=\"h2\">Terms in Plain English</Typography>\r\n          </div>\r\n          <div className=\"summary-points\">\r\n            <div className=\"summary-point\">\r\n              <CheckCircle size={16} />\r\n              <Typography variant=\"body1\">\r\n                <strong>Use UrbanAI Responsibly:</strong> Report genuine urban issues, be respectful, and don't abuse the service.\r\n              </Typography>\r\n            </div>\r\n            <div className=\"summary-point\">\r\n              <CheckCircle size={16} />\r\n              <Typography variant=\"body1\">\r\n                <strong>We Facilitate, Don't Guarantee:</strong> We help you report issues to authorities, but we can't guarantee they'll be fixed.\r\n              </Typography>\r\n            </div>\r\n            <div className=\"summary-point\">\r\n              <CheckCircle size={16} />\r\n              <Typography variant=\"body1\">\r\n                <strong>Free Service with Fair Limits:</strong> UrbanAI is free to use, but we may limit usage to prevent abuse.\r\n              </Typography>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Table of Contents */}\r\n        <Card className=\"toc-card\" variant=\"bordered\" padding=\"md\">\r\n          <Typography variant=\"h3\">Contents</Typography>\r\n          <nav className=\"table-of-contents\">\r\n            <a href=\"#acceptance\">1. Acceptance of Terms</a>\r\n            <a href=\"#description\">2. Service Description</a>\r\n            <a href=\"#user-accounts\">3. User Accounts and Authentication</a>\r\n            <a href=\"#acceptable-use\">4. Acceptable Use Policy</a>\r\n            <a href=\"#user-content\">5. User-Generated Content</a>\r\n            <a href=\"#service-availability\">6. Service Availability</a>\r\n            <a href=\"#privacy-data\">7. Privacy and Data Protection</a>\r\n            <a href=\"#intellectual-property\">8. Intellectual Property</a>\r\n            <a href=\"#disclaimers\">9. Disclaimers and Limitations</a>\r\n            <a href=\"#indemnification\">10. Indemnification</a>\r\n            <a href=\"#termination\">11. Termination</a>\r\n            <a href=\"#governing-law\">12. Governing Law</a>\r\n            <a href=\"#changes\">13. Changes to Terms</a>\r\n            <a href=\"#contact\">14. Contact Information</a>\r\n          </nav>\r\n        </Card>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"legal-content\">\r\n          \r\n          {/* Section 1 */}\r\n          <section id=\"acceptance\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">1. Acceptance of Terms</Typography>\r\n            <Typography variant=\"body1\">\r\n              By accessing or using UrbanAI (\"the Service\"), you agree to be bound by these Terms of Service (\"Terms\"). \r\n              If you disagree with any part of these terms, you may not access the Service.\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              These Terms apply to all users of the Service, including citizens reporting issues, \r\n              investors monitoring compliance, municipal authorities, and any other users.\r\n            </Typography>\r\n          </section>\r\n\r\n          {/* Section 2 */}\r\n          <section id=\"description\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">2. Service Description</Typography>\r\n            \r\n            <Card className=\"service-description\" padding=\"md\">\r\n              <Typography variant=\"h4\">What UrbanAI Does:</Typography>\r\n              <ul>\r\n                <li><strong>Issue Reporting Platform:</strong> Enables users to report urban infrastructure problems, compliance issues, and municipal concerns</li>\r\n                <li><strong>AI-Powered Analysis:</strong> Provides automated categorization, priority assessment, and routing of reported issues</li>\r\n                <li><strong>Stakeholder Coordination:</strong> Facilitates communication between citizens, authorities, and other stakeholders</li>\r\n                <li><strong>Compliance Monitoring:</strong> Helps track resolution progress and regulatory compliance</li>\r\n              </ul>\r\n            </Card>\r\n\r\n            <Card className=\"service-limitations\" variant=\"bordered\" padding=\"md\">\r\n              <AlertTriangle size={20} />\r\n              <div>\r\n                <Typography variant=\"h4\">What UrbanAI Doesn't Do:</Typography>\r\n                <ul>\r\n                  <li>We don't fix the issues ourselves - we facilitate reporting to proper authorities</li>\r\n                  <li>We don't guarantee response times or resolution of reported issues</li>\r\n                  <li>We don't provide emergency services - for emergencies, contact local emergency services directly</li>\r\n                  <li>We don't serve as legal counsel or provide legal advice</li>\r\n                </ul>\r\n              </div>\r\n            </Card>\r\n          </section>\r\n\r\n          {/* Section 3 */}\r\n          <section id=\"user-accounts\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">3. User Accounts and Authentication</Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              <strong>Account Creation:</strong> You may create an account using OAuth authentication through supported providers \r\n              (Microsoft, Google, Facebook). We do not store your personal information from these providers.\r\n            </Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              <strong>Account Security:</strong> You are responsible for:\r\n            </Typography>\r\n            <ul>\r\n              <li>Maintaining the security of your OAuth provider account</li>\r\n              <li>All activities that occur under your account</li>\r\n              <li>Notifying us immediately of any unauthorized use</li>\r\n            </ul>\r\n            \r\n            <Typography variant=\"body1\">\r\n              <strong>Account Termination:</strong> You may delete your account at any time through your profile settings. \r\n              We may suspend or terminate accounts that violate these Terms.\r\n            </Typography>\r\n          </section>\r\n\r\n          {/* Section 4 */}\r\n          <section id=\"acceptable-use\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">4. Acceptable Use Policy</Typography>\r\n            \r\n            <div className=\"use-policy-grid\">\r\n              <Card className=\"allowed-card\" padding=\"md\">\r\n                <CheckCircle size={20} className=\"policy-icon allowed\" />\r\n                <div>\r\n                  <Typography variant=\"h4\">Allowed Uses:</Typography>\r\n                  <ul>\r\n                    <li>Report genuine urban infrastructure issues</li>\r\n                    <li>Monitor compliance and project progress</li>\r\n                    <li>Engage constructively with other users</li>\r\n                    <li>Provide accurate information and documentation</li>\r\n                    <li>Use the service for legitimate civic engagement</li>\r\n                  </ul>\r\n                </div>\r\n              </Card>\r\n              \r\n              <Card className=\"prohibited-card\" variant=\"bordered\" padding=\"md\">\r\n                <AlertTriangle size={20} className=\"policy-icon prohibited\" />\r\n                <div>\r\n                  <Typography variant=\"h4\">Prohibited Uses:</Typography>\r\n                  <ul>\r\n                    <li>Submit false, misleading, or spam reports</li>\r\n                    <li>Harass, abuse, or threaten other users</li>\r\n                    <li>Upload malicious content or attempt to compromise security</li>\r\n                    <li>Use the service for political campaigning or commercial advertising</li>\r\n                    <li>Violate any applicable laws or regulations</li>\r\n                    <li>Attempt to reverse engineer or hack the service</li>\r\n                    <li>Create multiple accounts to circumvent restrictions</li>\r\n                  </ul>\r\n                </div>\r\n              </Card>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Section 5 */}\r\n          <section id=\"user-content\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">5. User-Generated Content</Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              <strong>Content Ownership:</strong> You retain ownership of content you submit (photos, descriptions, comments). \r\n              However, by submitting content, you grant UrbanAI a worldwide, royalty-free license to use, display, \r\n              and distribute your content for the purpose of operating the Service.\r\n            </Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              <strong>Content Standards:</strong> All user content must:\r\n            </Typography>\r\n            <ul>\r\n              <li>Be accurate and factual to the best of your knowledge</li>\r\n              <li>Not violate any third-party rights (privacy, intellectual property, etc.)</li>\r\n              <li>Not contain offensive, discriminatory, or harmful material</li>\r\n              <li>Be relevant to urban infrastructure and municipal issues</li>\r\n            </ul>\r\n            \r\n            <Typography variant=\"body1\">\r\n              <strong>Content Moderation:</strong> We reserve the right to remove content that violates these Terms, \r\n              but we are not obligated to monitor or moderate all content.\r\n            </Typography>\r\n          </section>\r\n\r\n          {/* Section 6 */}\r\n          <section id=\"service-availability\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">6. Service Availability</Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              We strive to maintain service availability but cannot guarantee uninterrupted access. The Service may be temporarily \r\n              unavailable due to maintenance, updates, or circumstances beyond our control.\r\n            </Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              We reserve the right to modify, suspend, or discontinue any aspect of the Service at any time, \r\n              with or without notice.\r\n            </Typography>\r\n          </section>\r\n\r\n          {/* Section 7 */}\r\n          <section id=\"privacy-data\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">7. Privacy and Data Protection</Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              Your privacy is governed by our <Link to=\"/privacy\" className=\"legal-link\">Privacy Policy</Link>, \r\n              which is incorporated into these Terms by reference. By using the Service, you consent to our \r\n              data practices as described in the Privacy Policy.\r\n            </Typography>\r\n            \r\n            <Card className=\"privacy-highlight\" padding=\"md\">\r\n              <Shield size={20} />\r\n              <div>\r\n                <Typography variant=\"body1\">\r\n                  <strong>Key Privacy Commitments:</strong>\r\n                </Typography>\r\n                <ul>\r\n                  <li>We store only anonymous identifiers, not personal information</li>\r\n                  <li>Your profile data stays with your OAuth provider</li>\r\n                  <li>You can delete your data at any time</li>\r\n                  <li>We comply with GDPR, CCPA, and other privacy regulations</li>\r\n                </ul>\r\n              </div>\r\n            </Card>\r\n          </section>\r\n\r\n          {/* Section 8 */}\r\n          <section id=\"intellectual-property\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">8. Intellectual Property</Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              The UrbanAI service, including its software, design, text, and trademarks, is owned by UrbanAI and protected by \r\n              intellectual property laws. You may not copy, modify, distribute, or create derivative works without permission.\r\n            </Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              <strong>Third-Party Content:</strong> The Service may include content owned by third parties. \r\n              Such content remains the property of its respective owners.\r\n            </Typography>\r\n          </section>\r\n\r\n          {/* Section 9 */}\r\n          <section id=\"disclaimers\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">9. Disclaimers and Limitations of Liability</Typography>\r\n            \r\n            <Card className=\"disclaimer-card\" variant=\"bordered\" padding=\"md\">\r\n              <Gavel size={20} />\r\n              <div>\r\n                <Typography variant=\"h4\">Service Disclaimers:</Typography>\r\n                <Typography variant=\"body1\">\r\n                  THE SERVICE IS PROVIDED \"AS IS\" WITHOUT WARRANTIES OF ANY KIND. WE DISCLAIM ALL WARRANTIES, \r\n                  EXPRESS OR IMPLIED, INCLUDING WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, \r\n                  AND NON-INFRINGEMENT.\r\n                </Typography>\r\n              </div>\r\n            </Card>\r\n            \r\n            <Typography variant=\"body1\">\r\n              <strong>Limitation of Liability:</strong> To the maximum extent permitted by law, UrbanAI shall not be liable for:\r\n            </Typography>\r\n            <ul>\r\n              <li>Indirect, incidental, special, or consequential damages</li>\r\n              <li>Loss of profits, data, or business opportunities</li>\r\n              <li>Actions or inactions of municipal authorities</li>\r\n              <li>Accuracy or completeness of user-generated content</li>\r\n              <li>Service interruptions or technical failures</li>\r\n            </ul>\r\n            \r\n            <Typography variant=\"body1\">\r\n              Our total liability shall not exceed €100 or the amount you paid to use the Service (whichever is greater).\r\n            </Typography>\r\n          </section>\r\n\r\n          {/* Section 10 */}\r\n          <section id=\"indemnification\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">10. Indemnification</Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              You agree to indemnify, defend, and hold harmless UrbanAI, its officers, directors, employees, \r\n              and agents from any claims, damages, losses, or expenses arising from:\r\n            </Typography>\r\n            <ul>\r\n              <li>Your use of the Service</li>\r\n              <li>Your violation of these Terms</li>\r\n              <li>Your violation of any third-party rights</li>\r\n              <li>Content you submit to the Service</li>\r\n            </ul>\r\n          </section>\r\n\r\n          {/* Section 11 */}\r\n          <section id=\"termination\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">11. Termination</Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              Either party may terminate your access to the Service at any time:\r\n            </Typography>\r\n            <ul>\r\n              <li><strong>By You:</strong> Delete your account through profile settings</li>\r\n              <li><strong>By Us:</strong> For violation of these Terms, at our discretion, with or without notice</li>\r\n            </ul>\r\n            \r\n            <Typography variant=\"body1\">\r\n              Upon termination, your right to use the Service ceases immediately. \r\n              Provisions that should survive termination (including disclaimers, limitations of liability, \r\n              and indemnification) will remain in effect.\r\n            </Typography>\r\n          </section>\r\n\r\n          {/* Section 12 */}\r\n          <section id=\"governing-law\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">12. Governing Law and Disputes</Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              These Terms are governed by the laws of [Your Jurisdiction], without regard to conflict of law principles.\r\n            </Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              <strong>Dispute Resolution:</strong> Any disputes arising from these Terms or the Service will be resolved through:\r\n            </Typography>\r\n            <ol>\r\n              <li><strong>Direct Discussion:</strong> Contact us first to resolve issues informally</li>\r\n              <li><strong>Mediation:</strong> If direct discussion fails, we'll attempt mediation</li>\r\n              <li><strong>Arbitration:</strong> Final disputes will be resolved through binding arbitration</li>\r\n            </ol>\r\n          </section>\r\n\r\n          {/* Section 13 */}\r\n          <section id=\"changes\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">13. Changes to Terms</Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              We may update these Terms occasionally to reflect changes in our Service or legal requirements. When we do:\r\n            </Typography>\r\n            <ul>\r\n              <li>We'll post the updated Terms on this page</li>\r\n              <li>We'll update the \"Last Modified\" date</li>\r\n              <li>For material changes, we'll notify you via email or in-app notification</li>\r\n              <li>Continued use of the Service after changes constitutes acceptance</li>\r\n            </ul>\r\n          </section>\r\n\r\n          {/* Section 14 */}\r\n          <section id=\"contact\" className=\"legal-section\">\r\n            <Typography variant=\"h2\">14. Contact Information</Typography>\r\n            \r\n            <Typography variant=\"body1\">\r\n              Questions about these Terms? Contact us:\r\n            </Typography>\r\n            <div className=\"contact-info\">\r\n              <p><strong>Email:</strong> legal@urbanai.site</p>\r\n              <p><strong>Support:</strong> support@urbanai.site</p>\r\n              <p><strong>Address:</strong> UrbanAI Legal Department<br />\r\n              [Your business address]</p>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Effective Date */}\r\n          <section className=\"legal-section\">\r\n            <Card className=\"effective-date-card\" variant=\"elevated\" padding=\"md\">\r\n              <Typography variant=\"body1\">\r\n                <strong>Effective Date:</strong> These Terms of Service are effective as of {lastUpdated} and \r\n                supersede all previous versions.\r\n              </Typography>\r\n            </Card>\r\n          </section>\r\n        </div>\r\n\r\n        {/* Footer Navigation */}\r\n        <footer className=\"legal-footer\">\r\n          <div className=\"footer-links\">\r\n            <Link to=\"/\" className=\"footer-link\">← Back to Home</Link>\r\n            <Link to=\"/privacy\" className=\"footer-link\">Privacy Policy →</Link>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TermsOfServicePage;","import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport LandingPage from './components/LandingPage';\r\nimport OAuthLoginPage from './components/OAuthLoginPage';\r\nimport Dashboard from './components/Dashboard';\r\nimport Issues from './components/Issues';\r\nimport OAuthCallback from './components/OAuthCallback';\r\nimport GDPRDataManagement from './components/GDPRDataManagement';\r\nimport PrivacyPolicyPage from './components/PrivacyPolicyPage';\r\nimport TermsOfServicePage from './components/TermsOfServicePage';\r\nimport { UserProvider } from './contexts/UserContext';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const handleOAuthLogin = (provider: 'microsoft' | 'google' | 'facebook') => {\r\n    console.log('OAuth login with:', provider);\r\n    // Implement OAuth login logic here\r\n  };\r\n\r\n  const handleGuestAccess = () => {\r\n    console.log('Guest access requested');\r\n    // Implement guest access logic here\r\n  };\r\n\r\n  return (\r\n    <UserProvider>\r\n      <Router basename=\"/app\">\r\n        <div className=\"App\">\r\n          <Routes>\r\n            <Route path=\"/\" element={<LandingPage />} />\r\n            <Route path=\"/login\" element={\r\n              <OAuthLoginPage\r\n                onOAuthLogin={handleOAuthLogin}\r\n                onGuestAccess={handleGuestAccess}\r\n              />\r\n            } />\r\n            <Route path=\"/dashboard\" element={<Dashboard />} />\r\n            <Route path=\"/issues\" element={<Issues />} />\r\n            <Route path=\"/gdpr-data-management\" element={<GDPRDataManagement />} />\r\n            <Route path=\"/privacy\" element={<PrivacyPolicyPage />} />\r\n            <Route path=\"/terms\" element={<TermsOfServicePage />} />\r\n            <Route path=\"/citizen\" element={\r\n              <OAuthLoginPage\r\n                onOAuthLogin={handleOAuthLogin}\r\n                onGuestAccess={handleGuestAccess}\r\n              />\r\n            } />\r\n            <Route path=\"/investor\" element={\r\n              <OAuthLoginPage\r\n                onOAuthLogin={handleOAuthLogin}\r\n                onGuestAccess={handleGuestAccess}\r\n              />\r\n            } />\r\n            <Route path=\"/authority\" element={\r\n              <OAuthLoginPage\r\n                onOAuthLogin={handleOAuthLogin}\r\n                onGuestAccess={handleGuestAccess}\r\n              />\r\n            } />\r\n            <Route path=\"/auth/callback\" element={<OAuthCallback />} />\r\n          </Routes>\r\n        </div>\r\n      </Router>\r\n    </UserProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport App from './App.tsx'\r\nimport './index.css'\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n)\r\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","UrbanAILogoPlaceholder","variant","size","className","getBackgroundColor","getTextColor","jsxs","jsx","Card","children","padding","onClick","hoverable","cardClasses","Typography","color","align","weight","as","role","Component","typographyClasses","LandingPage","userTypes","Users","TrendingUp","Building","platformFeatures","Shield","Zap","Globe","Link","ArrowRight","feature","index","Icon","userType","CheckCircle","CookieConsentBanner","onConsentChange","showBanner","setShowBanner","useState","showSettings","setShowSettings","preferences","setPreferences","useEffect","existingConsent","consent","consentAge","maxAge","saveConsent","newPreferences","acceptAll","rejectAll","saveCustomPreferences","updateCategory","category","value","prev","Fragment","Settings","Check","X","backdropStyle","panelStyle","headerStyle","titleStyle","bodyStyle","footerStyle","primaryButtonStyle","secondaryButtonStyle","LegalAgreementModal","props","open","isOpen","provider","displayName","onAccept","onDecline","providerLabel","AUTH_PROVIDERS","USER_TYPES","validateEnvVars","requiredVars","missingVars","varName","getEnvironment","API_CONFIG","APP_CONFIG","buildApiUrl","endpoint","cleanEndpoint","OAuthLoginPage","_onOAuthLogin","onGuestAccess","selectedUserType","setSelectedUserType","modalOpen","setModalOpen","pendingProvider","setPendingProvider","pendingExternalId","setPendingExternalId","loading","setLoading","error","setError","handleOAuthClick","response","errorText","data","err","handleModalAccept","handleModalDecline","type","WelcomeTutorial","onClose","onComplete","currentStep","setCurrentStep","tutorialSteps","FileText","MapPin","nextStep","handleComplete","prevStep","skipTutorial","currentStepData","ChevronLeft","ChevronRight","UserContext","createContext","UserProvider","userProfile","setUserProfileState","storedProfile","token","profile","generateInitials","name","word","setUserProfile","profileWithInitials","logout","isAuthenticated","useUser","context","useContext","Layout","location","useLocation","isActiveRoute","path","LogOut","Home","Dashboard","stats","setStats","showTutorial","setShowTutorial","isNewUser","setIsNewUser","fetchDashboardData","useCallback","issues","apiError","hasSeenWelcomeIssue","welcomeIssueDismissed","createWelcomeIssue","totalReports","inProgress","issue","resolved","recentIssues","welcomeIssue","checkIfNewUser","hasSeenTutorial","handleTutorialComplete","handleCloseTutorial","isWelcomeIssue","issueId","dismissWelcomeIssue","getStatusIcon","status","AlertTriangle","Clock","formatDate","dateString","Plus","Sparkles","Issues","setIssues","filterStatus","setFilterStatus","searchTerm","setSearchTerm","fetchIssues","fetchedIssues","filteredIssues","matchesStatus","matchesSearch","Search","Filter","i","OAuthCallback","onSuccess","onError","searchParams","useSearchParams","hasProcessed","useRef","registerUser","externalId","json","code","state","errorDescription","errorMessage","storedState","codeVerifier","callbackUrl","GDPRDataManagement","activeTab","setActiveTab","showDeleteModal","setShowDeleteModal","showAnonymizeModal","setShowAnonymizeModal","deleteConfirmation","setDeleteConfirmation","isExporting","setIsExporting","userData","externalLogins","clientSideData","handleExportData","resolve","exportData","blob","url","handleExportClientData","handleDeleteAccount","handleAnonymizeData","getStatusBadge","statusClasses","tabs","Database","Download","Trash2","tab","login","PrivacyPolicyPage","lastUpdated","Lock","Eye","User","TermsOfServicePage","Scale","Gavel","App","handleOAuthLogin","handleGuestAccess","Router","Routes","Route","ReactDOM","React"],"mappings":"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","x_google_ignoreList":[0,1,2]}